(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[39],{2811:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(8),a=n(16),i=n(36),c=n(2880),s=n(38);function o(){var t=Object(i.a)(["\n    margin: 0;\n    font-weight: bold;\n    color: white;\n    font-size: 1.25rem;\n"]);return o=function(){return t},t}function u(){var t=Object(i.a)(["\n  padding: 20px;\n  background-color: transparent;\n  \n  \n  @media (min-width: 768px) {\n  padding: ",";\n  }\n"]);return u=function(){return t},t}function p(){var t=Object(i.a)(["\n  border-bottom-color: rgba(255, 255, 255, 0.5);\n  background-color: transparent;\n  padding: 20px;\n  \n  \n  @media (min-width: 768px) {\n  padding: ",";\n  }\n"]);return p=function(){return t},t}function l(){var t=Object(i.a)(["\n  @media (max-width: 767px) {\n      margin-left: -30px;\n      margin-right: -30px;\n      border-radius: 0;\n      \n      .card-body {\n        padding-left: 30px;\n        padding-right: 30px;\n      }\n  }\n \n"]);return l=function(){return t},t}function d(){var t=Object(i.a)(["\n  background-color: ",";\n  color: white;\n  margin-bottom: ",";\n  margin-top:  ",";;\n  border-radius: 18px;\n"]);return d=function(){return t},t}var f=c.a.Header,b=c.a.Body,m=Object(s.default)(c.a)(d(),(function(t){return t.theme.modalBG}),(function(t){var e=t.margin,n=t.marginBottom;return n?"".concat(n,"px"):e?"".concat(e,"px"):"20px"}),(function(t){var e=t.margin,n=t.marginTop;return n?"".concat(n,"px"):e?"".concat(e,"px"):"0"})),h=Object(s.default)(m)(l()),y=Object(s.default)(f)(p(),(function(t){return t.isTable?"30px 60px":"30px"})),x=Object(s.default)(b)(u(),(function(t){return t.isTable?"18px 48px":"30px"})),g=s.default.h4(o()),j=function(t){return Object(a.jsxs)(h,Object(r.a)(Object(r.a)({},t),{},{children:[t.header&&Object(a.jsxs)(y,{isTable:t.isTable,children:[t.title&&Object(a.jsx)(g,{children:t.title}),t.header]}),Object(a.jsx)(x,{isTable:t.isTable,children:t.children||t.body})]}))};e.b=function(t){return Object(a.jsxs)(m,Object(r.a)(Object(r.a)({},t),{},{children:[t.header&&Object(a.jsxs)(y,{isTable:t.isTable,children:[t.title&&Object(a.jsx)(g,{children:t.title}),t.header]}),Object(a.jsx)(x,{isTable:t.isTable,children:t.children||t.body})]}))}},2822:function(t,e,n){"use strict";var r=n(16),a=n(251),i=n(36),c=n(38);function s(){var t=Object(i.a)(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: ",";\n  text-align: ",";\n  padding-top: ",";\n"]);return s=function(){return t},t}function o(){var t=Object(i.a)(["\n  font-size: ",";\n  font-weight: 400;\n  display: flex;\n  min-width: 100px;\n"]);return o=function(){return t},t}function u(){var t=Object(i.a)(["\n  display: flex;\n  align-items: ",";\n  justify-content: ",";\n  \n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n"]);return u=function(){return t},t}function p(){var t=Object(i.a)(["\n  border-radius: 18px;\n  border: ",";\n  padding: ",";\n  \n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n"]);return p=function(){return t},t}function l(){var t=Object(i.a)(["\n  display: block;\n  font-size: .875rem;\n  font-weight: 400;\n  color: ",";\n"]);return l=function(){return t},t}function d(){var t=Object(i.a)(["\n  display: block;\n  margin-bottom: 1rem;\n  font-size: .75rem;\n  font-weight: 400;\n  color: ",";\n"]);return d=function(){return t},t}function f(){var t=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: -15px -15px 20px;\n  padding: 20px 16px 15px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n"]);return f=function(){return t},t}function b(){var t=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  \n"]);return b=function(){return t},t}var m=c.default.div(b()),h=c.default.div(f()),y=c.default.span(d(),(function(t){return t.theme.text1})),x=c.default.span(l(),(function(t){return t.theme.text1})),g=c.default.div(p(),(function(t){return t.withoutBorder?"none":"1px solid rgba(255, 255, 255, 0.3)"}),(function(t){return t.withoutBorder?"0":"15px"})),j=c.default.div(u(),(function(t){return t.centered?"center":"flex-start"}),(function(t){return"rtl"!==t.direction?"flex-start":"space-between"})),O=c.default.span(o(),(function(t){return"lg"===t.size?"0.875rem":"0.75rem"})),v=c.default.div(s(),(function(t){return"rtl"===t.direction?"flex-end":"flex-start"}),(function(t){return"rtl"===t.direction?"right":"left"}),(function(t){return t.withPadding?"12px":"0"}));e.a=function(t){var e=t.data,n=t.columns,i=t.breakpoint,c=Object(a.a)(t,["data","columns","breakpoint"]);return Object(r.jsx)(m,{className:"d-flex d-".concat(i,"-none"),children:e.map((function(t,e){return Object(r.jsxs)(g,{withoutBorder:c.withoutBorder,children:[c.hasOwnProperty("headerIndex")&&Object(r.jsxs)(h,{children:[Object(r.jsx)(y,{children:n[c.headerIndex].text}),Object(r.jsx)(x,{children:n[c.headerIndex].formatter(null,t,e,n[c.headerIndex].hasOwnProperty("formatExtraData")?n[c.headerIndex].formatExtraData:{})})]}),n.map((function(n,a){return c.hasOwnProperty("headerIndex")&&a===c.headerIndex?null:Object(r.jsx)(j,{direction:c.direction,centered:c.centered&&!n.notCentered,children:n.isAction?Object(r.jsx)(v,{withPadding:!0,direction:c.direction,children:n.formatter(null,t,e,n.hasOwnProperty("formatExtraData")?n.formatExtraData:{})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(O,{size:c.size,children:n.text}),Object(r.jsx)(v,{direction:c.direction,children:n.formatter(null,t,e,n.hasOwnProperty("formatExtraData")?n.formatExtraData:{})})]})},n.dataField)}))]},"row-".concat(e))}))})}},2985:function(t){t.exports=JSON.parse('{"a":[{"constant":true,"inputs":[{"components":[{"name":"target","type":"address"},{"name":"callData","type":"bytes"}],"name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"name":"blockNumber","type":"uint256"},{"name":"returnData","type":"bytes[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]}')},3067:function(t,e,n){"use strict";n.d(e,"a",(function(){return pt})),n.d(e,"b",(function(){return lt})),n.d(e,"g",(function(){return dt})),n.d(e,"h",(function(){return bt})),n.d(e,"f",(function(){return ht})),n.d(e,"c",(function(){return xt})),n.d(e,"d",(function(){return gt})),n.d(e,"e",(function(){return jt}));var r=n(39),a=n(1),i=n.n(a),c=n(58),s=n(20),o=n(274),u=(n(164),n(3236)),p=n.n(u),l=n(3237),d=n(2985),f=n(51),b={1:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-beta",42:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-kovan"};function m(){return(m=Object(s.a)(i.a.mark((function t(e,n,a,c,s,o){var u,p,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={poolShares:{__args:{where:{userAddress_in:c.map((function(t){return t.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==o&&(u.poolShares.__args.block={number:o}),t.next=4,bt(b[n],u);case 4:return p=t.sent,l={},p&&p.poolShares&&p.poolShares.forEach((function(t){return t.poolId.tokens.map((function(e){var n=e.id.split("-");if(Object(r.a)(n,2)[1]===s.address.toLowerCase()){var a=Object(f.getAddress)(t.userAddress.id);l[a]||(l[a]=0),l[a]=l[a]+e.balance/t.poolId.totalShares*t.balance}}))})),t.abrupt("return",l||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=n(232);function y(t,e){return(t.args||["%{address}"]).map((function(t){return"string"===typeof t?t.replace(/%{address}/g,e):t}))}function x(){return(x=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,[c.methodABI],a.map((function(t){return[c.address,c.methodABI.name,y(c,t)]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.formatUnits)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function j(t,e,n,r,a,i){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,g,a.map((function(t){return[c.address,"balanceOf",[t]]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.formatUnits)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e,n,r,a,c,s);case 2:return o=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],t[1]*c.coeff]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e,n,r,a,c,s);case 2:return o=t.sent,u=Object.values(o).reduce((function(t,e){return t+e}),0),t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],c.total*t[1]/u]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e,n,r,a,c,s);case 2:return o=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],Math.sqrt(t[1])]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e,n,r,a,c,s);case 2:return o=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(o).map((function(t){return[t[0],t[1]>(c.minBalance||0)?1:0]}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e,n,r,a,i){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(i.a.mark((function t(e,n,a,c,s,o){var u,p,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={delegations:{__args:{where:{delegate_in:c.map((function(t){return t.toLowerCase()})),delegator_not_in:c.map((function(t){return t.toLowerCase()})),space_in:["",e]},first:1e3},delegator:!0,space:!0,delegate:!0}},"latest"!==o&&(u.delegations.__args.block={number:o}),t.next=4,bt(lt[n],u);case 4:if((p=t.sent)&&p.delegations){t.next=7;break}return t.abrupt("return",{});case 7:return l={},p.delegations.forEach((function(t){return l[t.delegator]=t.delegate})),p.delegations.filter((function(t){return""!==t.space})).forEach((function(t){return l[t.delegator]=t.delegate})),t.abrupt("return",Object.fromEntries(c.map((function(t){return[t,Object.entries(l).filter((function(e){var n=Object(r.a)(e,2)[1];return t.toLowerCase()===n})).map((function(t){return Object(r.a)(t,1)[0]}))]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e,n,r,a,c,s);case 2:if(o=t.sent,0!==Object.keys(o).length){t.next=5;break}return t.abrupt("return",{});case 5:return console.debug("Delegations",o),t.next=8,j(e,n,r,Object.values(o).reduce((function(t,e){return t.concat(e)})),c,s);case 8:return u=t.sent,console.debug("Delegators score",u),t.abrupt("return",Object.fromEntries(a.map((function(t){return[t,o[t]?o[t].reduce((function(t,e){return t+u[e]}),0):0]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,d.a,a.map((function(t){return[pt[n],"getEthBalance",[t]]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.formatUnits)(t.toString(),18))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var F={1:"0x9ef05f7f6deb616fd37ac3c959a2ddd25a54e4f5"},A=[{constant:!0,inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function D(){return(D=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,A,a.map((function(t){return[F[n],"deposits",[t]]})),{blockTag:o});case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.formatUnits)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var B={1:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"},M=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"getCurrentVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"}];function P(){return(P=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,M,a.map((function(t){return[B[n],"getCurrentVotes",[t.toLowerCase()],{blockTag:o}]})));case 3:return u=t.sent,t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],parseFloat(Object(h.formatUnits)(t.toString(),c.decimals))]}))));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=[{constant:!0,inputs:[],name:"getPricePerFullShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function I(){return(I=Object(s.a)(i.a.mark((function t(e,n,a,c,s,o){var u,p,l,d,f,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof o?o:"latest",t.next=3,Promise.all([j(e,n,a,c,s,o),dt(n,a,N,[[s.address,"getPricePerFullShare",[]]],{blockTag:u})]);case 3:return p=t.sent,l=Object(r.a)(p,2),d=l[0],f=Object(r.a)(l[1],1),b=f[0],b=parseFloat(Object(h.formatUnits)(b.toString(),18)),t.abrupt("return",Object.fromEntries(Object.entries(d).map((function(t){return[t[0],t[1]*b]}))));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var U=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"memberAddressByDelegateKey",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"members",outputs:[{internalType:"address",name:"delegateKey",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"loot",type:"uint256"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"highestIndexYesVote",type:"uint256"},{internalType:"uint256",name:"jailed",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function z(){return(z=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,U,a.map((function(t){return[c.address,"memberAddressByDelegateKey",[t]]})),{blockTag:o});case 3:return u=t.sent,t.next=6,dt(n,r,U,u.filter((function(t){return"0x0000000000000000000000000000000000000000"!==t.toString()})).map((function(t){return[c.address,"members",[t.toString()]]})),{blockTag:o});case 6:return p=t.sent,t.abrupt("return",Object.fromEntries(p.map((function(t,e){return[a[e],parseFloat(Object(h.formatUnits)(t.shares.toString(),c.decimals))]}))));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L={1:"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2"};function q(){return(q=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u,p,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={users:{__args:{where:{id_in:a.map((function(t){return t.toLowerCase()}))},first:1e3},id:!0,liquidityPositions:{__args:{where:{liquidityTokenBalance_gt:0}},liquidityTokenBalance:!0,pair:{id:!0,token0:{id:!0},reserve0:!0,token1:{id:!0},reserve1:!0,totalSupply:!0}}}},"latest"!==s&&(o.users.liquidityPositions.__args.block={number:s}),u=c.address.toLowerCase(),t.next=5,bt(L[n],o);case 5:return p=t.sent,l={},p&&p.users&&p.users.forEach((function(t){t.liquidityPositions.filter((function(t){return t.pair.token0.id==u||t.pair.token1.id==u})).forEach((function(e){var n=e.pair.reserve0/e.pair.totalSupply,r=e.pair.reserve1/e.pair.totalSupply,a=e.pair.token0.id==u?n*e.liquidityTokenBalance:r*e.liquidityTokenBalance,i=Object(f.getAddress)(t.id);l[i]||(l[i]=0),l[i]=l[i]+a}))})),t.abrupt("return",l||{});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Y=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"}],J=[{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"}],H="0x73feaa1eE314F8c655E354234017bE2193C9E24E";function V(){return(V=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u,p,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,j(e,n,r,a,c,s);case 3:return u=t.sent,t.next=6,dt(n,r,J,a.map((function(t){return[H,"userInfo",["0",t]]})),{blockTag:o});case 6:return p=t.sent,t.next=9,Promise.all(c.chefAddresses.map((function(t){return dt(n,r,Y,a.map((function(e){return[t.address,"userInfo",[e],{blockTag:o}]})),{blockTag:o})})));case 9:return l=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(u).map((function(t,e){return[t[0],t[1]+p.reduce((function(t,e,n){return t+parseFloat(Object(h.formatUnits)(e.amount.toString(),18))}),0)+l.reduce((function(t,n,r){return t+parseFloat(Object(h.formatUnits)(n[e].amount.toString(),c.chefAddresses[r].decimals))}),0)]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var G=[{constant:!0,inputs:[{name:"",type:"address"}],name:"issuanceData",outputs:[{name:"initialDebtOwnership",type:"uint256"},{name:"debtEntryIndex",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],K="0x4b9Ca5607f1fF8019c1C6A3c2f0CC8de622D5B82";function Q(){return(Q=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,G,a.map((function(t){return[K,"issuanceData",[t]]})),{blockTag:o});case 3:return u=t.sent,p=function(t){var e=1e5*t;return Math.sqrt(e)},t.abrupt("return",Object.fromEntries(u.map((function(t,e){return[a[e],p(parseFloat(Object(h.formatUnits)(t.initialDebtOwnership.toString(),27)))]}))));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var R=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"borrowBalanceStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function W(){return(W=Object(s.a)(i.a.mark((function t(e,n,a,c,s,o){var u,p,l,d,f,b,m,y,x,g,j,O,v,w,k,T;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u="number"===typeof o?o:"latest","number"!==typeof o){t.next=5;break}t.t0=o-s.offsetCheck,t.next=10;break;case 5:return t.next=7,a.getBlockNumber();case 7:t.t1=t.sent,t.t2=s.offsetCheck,t.t0=t.t1-t.t2;case 10:return p=t.t0,l=c.map((function(t){return[s.address,"balanceOf",[t]]})),d=c.map((function(t){return[s.address,"borrowBalanceStored",[t]]})),f=l.concat(d),t.next=16,Promise.all([dt(n,a,R,f,{blockTag:u}),dt(n,a,R,c.map((function(t){return[s.address,"balanceOf",[t]]})),{blockTag:p})]);case 16:for(b=t.sent,m=Object(r.a)(b,2),y=m[0],x=m[1],g=y.slice(0,c.length),j=y.slice(c.length),O={},v=0;v<g.length;v++)w=1,s.borrowingRestricted&&(w=0==j[v].toString().localeCompare("0")?1:0),k=parseFloat(Object(h.formatUnits)(g[v].toString(),s.decimals)),T=parseFloat(Object(h.formatUnits)(x[v].toString(),s.decimals)),O[c[v]]=Math.min(k,T)*w;return t.abrupt("return",O);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var X={1:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-v2",3:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-dev"},Z=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function $(){return($=Object(s.a)(i.a.mark((function t(e,n,a,c,s,o){var u,p,l,d,f,b,m,h,y,x;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=s.address,t.next=3,Promise.all([tt(n,c,u,o),nt(n,a,c,s,o)]);case 3:for(p=t.sent,l=Object(r.a)(p,2),d=l[0],f=l[1],b=0,m=Object.entries(f);b<m.length;b++)h=Object(r.a)(m[b],2),y=h[0],x=h[1],d[y]||(d[y]=0),d[y]=d[y]+x;return t.abrupt("return",d||{});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t,e,n,r){return et.apply(this,arguments)}function et(){return(et=Object(s.a)(i.a.mark((function t(e,n,a,c){var s,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={poolShares:{__args:{where:{userAddress_in:n.map((function(t){return t.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==c&&(s.poolShares.__args.block={number:c}),t.next=4,bt(X[e],s);case 4:return o=t.sent,u={},o&&o.poolShares&&o.poolShares.forEach((function(t){return t.poolId.tokens.map((function(e){var n=e.id.split("-"),i=Object(r.a)(n,2)[1];if("string"===typeof a&&i===a.toLowerCase()){var c=Object(f.getAddress)(t.userAddress.id);u[c]||(u[c]=0),u[c]=u[c]+e.balance/t.poolId.totalShares*t.balance}}))})),t.abrupt("return",u||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(t,e,n,r,a){return rt.apply(this,arguments)}function rt(){return(rt=Object(s.a)(i.a.mark((function t(e,n,r,a,s){var o,u,p,l,d,f,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o="number"===typeof s?s:"latest",u=a.pools.length,p=r.length,l=[],d=function(t){l.push.apply(l,Object(c.a)(r.map((function(e){return[a.pools[t].address,"balanceOf",[e]]}))))},f=0;f<u;f++)d(f);return t.next=8,dt(e,n,Z,l,{blockTag:o});case 8:return b=t.sent,t.abrupt("return",Object.fromEntries(r.map((function(t,e){for(var n=0,r=0;r<u;r++)n+=parseFloat(Object(h.formatUnits)(b[e+r*p].toString(),18));return[t,n]}))));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var at=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOfBonded",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function it(){return(it=Object(s.a)(i.a.mark((function t(e,n,r,a,s,o){var u,p,l,d,f,b,m,y;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="number"===typeof o?o:"latest",p=a.map((function(t){return[s.dao,"balanceOfBonded",[t]]})),l=a.map((function(t){return[s.rewards,"balanceOfBonded",[t]]})),t.next=5,dt(n,r,at,[[s.token,"balanceOf",[s.uniswap]],[s.uniswap,"totalSupply"]].concat(Object(c.a)(p),Object(c.a)(l)),{blockTag:u});case 5:return d=t.sent,f=d[0],b=d[1],m=d.slice(2,a.length+2),y=d.slice(a.length+2,2*a.length+2),t.abrupt("return",Object.fromEntries(Array(a.length).fill("x").map((function(t,e){return[a[e],parseFloat(Object(h.formatUnits)(f[0].div(b[0]).mul(y[e][0]).add(m[e][0]).toString(),s.decimals))]}))));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ct=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function st(){return(st=Object(s.a)(i.a.mark((function t(e,n,r,a,c,s){var o,u,p,l,d,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="number"===typeof s?s:"latest",t.next=3,dt(n,r,ct,[[c.uniswapAddress,"totalSupply",[]],[c.tokenAddress,"balanceOf",[c.uniswapAddress]]].concat(a.map((function(t){return[c.stakingAddress,"balanceOf",[t]]}))),{blockTag:o});case 3:return u=t.sent,p=u[0],l=u[1],d=l/Math.pow(10,c.decimals)/(p/1e18),f=u.slice(2),t.abrupt("return",Object.fromEntries(f.map((function(t,e){return[a[e],t/Math.pow(10,c.decimals)*d]}))));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ot={balancer:function(t,e,n,r,a,i){return m.apply(this,arguments)},"contract-call":function(t,e,n,r,a,i){return x.apply(this,arguments)},"erc20-balance-of":j,"erc20-balance-of-fixed-total":function(t,e,n,r,a,i){return w.apply(this,arguments)},"erc20-balance-of-cv":function(t,e,n,r,a,i){return k.apply(this,arguments)},"erc20-balance-of-coeff":function(t,e,n,r,a,i){return v.apply(this,arguments)},"erc20-with-balance":function(t,e,n,r,a,i){return T.apply(this,arguments)},"erc20-balance-of-delegation":function(t,e,n,r,a,i){return _.apply(this,arguments)},"eth-balance":function(t,e,n,r,a,i){return C.apply(this,arguments)},"maker-ds-chief":function(t,e,n,r,a,i){return D.apply(this,arguments)},uni:function(t,e,n,r,a,i){return P.apply(this,arguments)},"yearn-vault":function(t,e,n,r,a,i){return I.apply(this,arguments)},moloch:function(t,e,n,r,a,i){return z.apply(this,arguments)},uniswap:function(t,e,n,r,a,i){return q.apply(this,arguments)},pancake:function(t,e,n,r,a,i){return V.apply(this,arguments)},synthetix:function(t,e,n,r,a,i){return Q.apply(this,arguments)},ctoken:function(t,e,n,r,a,i){return W.apply(this,arguments)},cream:function(t,e,n,r,a,i){return $.apply(this,arguments)},"staked-uniswap":function(t,e,n,r,a,i){return st.apply(this,arguments)},esd:function(t,e,n,r,a,i){return it.apply(this,arguments)}},ut=n(72),pt={1:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",4:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",5:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",6:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",42:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",56:"0x1ee38d535d541c55c9dae27b12edf090c608e6fb",82:"0x579De77CAEd0614e3b158cb738fcD5131B9719Ae",97:"0x8b54247c6BAe96A6ccAFa468ebae96c4D7445e46",100:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",wanchain:"0xba5934ab3056fca1fa458d30fbb3810c3eb5145f"},lt={1:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot",4:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-rinkeby",42:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-kovan"};function dt(t,e,n,r,a){return ft.apply(this,arguments)}function ft(){return(ft=Object(s.a)(i.a.mark((function t(e,n,a,c,s){var u,p,l,f,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=new o.b(a),p=Object(ut.e)(pt[e],d.a,n),t.prev=2,t.prev=3,t.next=6,p.aggregate(c.map((function(t){return[t[0].toLowerCase(),u.encodeFunctionData(t[1],t[2])]})),s||{});case 6:return l=t.sent,f=Object(r.a)(l,2),b=f[1],t.abrupt("return",b.map((function(t,e){return u.decodeFunctionResult(c[e][1],t)})));case 12:return t.prev=12,t.t0=t.catch(3),t.abrupt("return",[]);case 15:t.next=20;break;case 17:return t.prev=17,t.t1=t.catch(2),t.abrupt("return",Promise.reject(t.t1));case 20:case"end":return t.stop()}}),t,null,[[2,17],[3,12]])})))).apply(this,arguments)}function bt(t,e){return mt.apply(this,arguments)}function mt(){return(mt=Object(s.a)(i.a.mark((function t(e,n){var r,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:Object(l.jsonToGraphQLQuery)({query:n})})});case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,c=a.data,t.abrupt("return",c||{});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(t,e,n,r,a){return yt.apply(this,arguments)}function yt(){return(yt=Object(s.a)(i.a.mark((function t(e,n,r,a,c){var s,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.length>5&&void 0!==o[5]?o[5]:"latest",t.next=3,Promise.all(n.map((function(t){return ot[t.name](e,r,a,c,t.params,s)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"(0.[00]a)";return p()(t).format(e)}function gt(t){var e=JSON.parse(JSON.stringify(t));return e.msg=function(t,e){if("string"!==typeof t)return e||{};try{return JSON.parse(t)}catch(n){return e||{}}}(e.msg,e.msg),"0.1.0"===e.msg.version&&(e.msg.payload.start=1595088e3,e.msg.payload.end=1595174400,e.msg.payload.snapshot=10484400,e.bpt_voting_disabled="1"),"0.1.0"!==e.msg.version&&"0.1.1"!==e.msg.version||(e.msg.payload.metadata={}),e}function jt(t){return Object.fromEntries(Object.entries(t).map((function(t){return[t[0],gt(t[1])]})))}},3681:function(t,e,n){},4020:function(t,e,n){"use strict";n.r(e);var r=n(16),a=n(1),i=n.n(a),c=n(20),s=n(39),o=n(36),u=n(0),p=n(2807),l=n(1174),d=n(43),f=n(2848),b=n.n(f),m=n(685),h=n.n(m),y=n(38),x=n(2811),g=n(426),j=n(686),O=n(283),v=n(3067),w=n(44),k=n(417),T=n(2818),S=(n(3681),n(1199),n(2822));function E(){var t=Object(o.a)(["\n  \n  @media (max-width: 991px) {\n    font-size: .875rem;\n  }\n"]);return E=function(){return t},t}function _(){var t=Object(o.a)(["\n    height: 56px;\n    padding: 6px 20px;\n    border-radius: 18px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 20px;\n   \n    :hover,\n    :focus, \n    :active{ \n        text-decoration: none;\n        outline: none;\n    }\n"]);return _=function(){return t},t}function C(){var t=Object(o.a)(["\n    background-color: rgba(71, 183, 254, 0.12);\n    height: 56px;\n    padding: 6px 20px;\n    border-radius: 18px;\n    color: ",";\n    display: flex;\n    align-items: center;\n    transition: 0.3s ease all;\n    justify-content: center;\n   \n    :hover,\n    :focus, \n    :active{\n        background-color: rgba(71, 183, 254, 1);\n        color: white;      \n        text-decoration: none;\n        outline: none;\n    }\n"]);return C=function(){return t},t}function F(){var t=Object(o.a)(["\n  font-weight: 700;\n  font-size: .875rem;\n  color: white;\n  white-space: nowrap;\n  \n  @media (max-width: 991px) {\n  font-weight: 400;\n  }\n"]);return F=function(){return t},t}function A(){var t=Object(o.a)(["\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 19px;\n  color: white;\n  \n  @media (max-width: 991px) {\n    font-size: .875rem;\n  }\n"]);return A=function(){return t},t}function D(){var t=Object(o.a)(["\n  text-decoration: none;\n  &:hover,\n  &:focus,\n  &:active {\n      text-decoration: none;\n      outline: none;\n      box-shadow: none;\n  }\n"]);return D=function(){return t},t}function B(){var t=Object(o.a)(["\n  color: ",";\n  width: 100%;\n  \n  &:hover {\n    color: ",";\n    background-color: ",";\n  }\n"]);return B=function(){return t},t}function M(){var t=Object(o.a)(["\n  border-radius: 12px;\n  background-color: ",";\n  padding: 6px 20px;\n  max-height: 40px;\n  min-height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  white-space: nowrap;\n  font-size: 1rem;\n  font-family: inherit;\n  font-weight: 500;\n  border: none;\n  outline: none;\n  text-decoration: none;\n  \n  &:hover,\n  &:focus,\n  &:active {\n      text-decoration: none;\n      outline: none;\n      box-shadow: none;\n  }\n"]);return M=function(){return t},t}function P(){var t=Object(o.a)(["\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: white;\n  margin: 0;\n  \n  @media (max-width: 767px) {\n    margin-bottom: 30px;\n  }\n"]);return P=function(){return t},t}function N(){var t=Object(o.a)(["\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  border: none;\n  background-color: transparent;\n  \n  @media (max-width: 767px) {\n    flex-direction: column;\n    align-items: stretch;\n  }\n"]);return N=function(){return t},t}var I=y.default.div(N()),U=y.default.h2(P()),z=y.default.button(M(),(function(t){return t.theme.bg2})),L=Object(y.default)(z)(B(),(function(t){return t.theme.primary}),(function(t){return t.theme.bg2}),(function(t){return t.theme.primary})),q=Object(y.default)(O.b)(D()),Y=y.default.span(A()),J=y.default.span(F()),H=Object(y.default)(O.b)(C(),(function(t){return t.theme.primary})),V=Object(y.default)(O.b)(_()),G=y.default.span(E());e.default=function(t){var e=Object(w.a)().library,n=Object(u.useState)({}),a=Object(s.a)(n,2),o=a[0],f=a[1],m=Object(d.d)(),y=Object(d.e)((function(t){return t.governance})),O=y.spaces,E=y.loading,_=y.proposals,C=t.match.params.space,F=O[C];Object(u.useEffect)((function(){0===Object.keys(O).length?m(Object(g.b)()):O.hasOwnProperty(C)?m(Object(g.a)(C)):t.history.push("/tools/governance")}),[O,C,t.history,m]);var A=function(){var t=Object(c.a)(i.a.mark((function t(n,r){var a,c,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.hasOwnProperty(r)){t.next=12;break}return a={},c=n[r],t.next=5,Object(v.f)(r,F.strategies,F.network,e,Object.values(c).map((function(t){return t.address})));case 5:s=t.sent,a=Object.fromEntries(Object.entries(c).map((function(t){var e=[t[0],Object.assign({},t[1])];return e[1].score=s.reduce((function(t,n){return t+(n[e[1].address]||0)}),0),[e[0],e[1]]}))),a=Object(v.e)(a),o=Object.fromEntries(Object.entries(a).sort((function(t,e){return e[1].msg.payload.end-t[1].msg.payload.end}),0)),f(o),t.next=13;break;case 12:f({});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();Object(u.useEffect)((function(){A(_,C)}),[_,C]);var D={onClick:function(e,n){t.history.push("/tools/governance/".concat(C,"/proposal/").concat(n[0]))}},B=[{dataField:"asset",text:"Description",formatter:function(t,e,n){return Object(r.jsx)(Y,{children:Object(j.b)(e[1].msg.payload.name,"name")})}},{dataField:"status",text:"Status",formatter:function(t,e){var n=(Date.now()/1e3).toFixed(),a=e[1].msg.payload,i=a.start,c=n>a.end?{title:"Closed",className:"label-light-danger",responsiveClassName:"text-danger"}:n>i?{title:"Active",className:"label-light-success",responsiveClassName:"text-success"}:{title:"Pending",className:"label-light-info",responsiveClassName:"text-info"};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"label ".concat(c.className," label-lg d-none d-lg-flex w-100 label-inline py-3"),children:c.title}),Object(r.jsx)(G,{className:"d-flex d-lg-none ".concat(c.responsiveClassName),children:c.title})]})}},{dataField:"start",text:"Start Date",formatter:function(t,e){return Object(r.jsx)(J,{children:h()(1e3*e[1].msg.payload.start).format("YYYY/MM/DD HH:mm")})}},{dataField:"end",text:"End Date",formatter:function(t,e){return Object(r.jsx)(J,{children:h()(1e3*e[1].msg.payload.end).format("YYYY/MM/DD HH:mm")})}},{dataField:"author",text:"Author",formatter:function(t,e){return Object(r.jsxs)(J,{children:[e[1].address.slice(0,6),"...",e[1].address.slice(-4)]})}}],M={dataField:"actions",text:"Actions",formatter:function(t,e){return Object(r.jsx)("div",{className:"d-flex flex-column align-items-stretch align-items-lg-center justify-content-center w-100",children:Object(r.jsx)(q,{to:"/tools/governance/".concat(C,"/proposal/").concat(e[0]),children:Object(r.jsx)(L,{children:"View More"})})})},isAction:!0};return Object(r.jsx)(T.a,{title:"Governance",morePadding:!0,children:Object(r.jsx)(p.a,{children:Object(r.jsx)(l.a,{xs:12,children:Object(r.jsxs)(x.a,{marginTop:-30,marginBottom:0,children:[Object(r.jsxs)(I,{children:[Object(r.jsx)(U,{className:"card-title",children:"Proposals"}),Object(r.jsx)(H,{to:"".concat(t.match.url,"/create"),className:"bg-light-primary d-none d-md-flex",children:"Create New"}),Object(r.jsx)(V,{to:"".concat(t.match.url,"/create"),className:" btn btn-primary btn-gradient-primary d-flex d-md-none",children:"Create New"})]}),Object(r.jsx)("div",{children:E?Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center py-5 w-100",children:Object(r.jsx)(k.a,{color:"primary",width:40,height:40,active:!0,id:"proposals"})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b.a,{wrapperClasses:"table-responsive d-none d-lg-block",bordered:!1,classes:"table table-head-custom table-borderless table-vertical-center overflow-hidden table-hover proposals__table",bootstrap4:!0,remote:!0,keyField:"id",columns:B,data:Object.entries(o),rowEvents:D}),Object(r.jsx)(S.a,{breakpoint:"lg",direction:"rtl",columns:B.concat(M),data:Object.entries(o),headerIndex:0})]})})]})})})})}}}]);
//# sourceMappingURL=39.91ba5d82.chunk.js.map