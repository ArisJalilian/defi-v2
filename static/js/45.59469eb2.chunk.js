(this.webpackJsonpdefi_v2=this.webpackJsonpdefi_v2||[]).push([[45],{2811:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),a=n(16),i=n(36),s=n(2880),c=n(38);function o(){var e=Object(i.a)(["\n    margin: 0;\n    font-weight: bold;\n    color: white;\n    font-size: 1.25rem;\n"]);return o=function(){return e},e}function u(){var e=Object(i.a)(["\n  padding: 20px;\n  background-color: transparent;\n  \n  \n  @media (min-width: 768px) {\n  padding: ",";\n  }\n"]);return u=function(){return e},e}function l(){var e=Object(i.a)(["\n  border-bottom-color: rgba(255, 255, 255, 0.5);\n  background-color: transparent;\n  padding: 20px;\n  \n  \n  @media (min-width: 768px) {\n  padding: ",";\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(i.a)(["\n  @media (max-width: 767px) {\n      margin-left: -30px;\n      margin-right: -30px;\n      border-radius: 0;\n      \n      .card-body {\n        padding-left: 30px;\n        padding-right: 30px;\n      }\n  }\n \n"]);return d=function(){return e},e}function p(){var e=Object(i.a)(["\n  background-color: ",";\n  color: white;\n  margin-bottom: ",";\n  margin-top:  ",";;\n  border-radius: 18px;\n"]);return p=function(){return e},e}var f=s.a.Header,b=s.a.Body,m=Object(c.default)(s.a)(p(),(function(e){return e.theme.modalBG}),(function(e){var t=e.margin,n=e.marginBottom;return n?"".concat(n,"px"):t?"".concat(t,"px"):"20px"}),(function(e){var t=e.margin,n=e.marginTop;return n?"".concat(n,"px"):t?"".concat(t,"px"):"0"})),h=Object(c.default)(m)(d()),j=Object(c.default)(f)(l(),(function(e){return e.isTable?"30px 60px":"30px"})),y=Object(c.default)(b)(u(),(function(e){return e.isTable?"18px 48px":"30px"})),x=c.default.h4(o()),g=function(e){return Object(a.jsxs)(h,Object(r.a)(Object(r.a)({},e),{},{children:[e.header&&Object(a.jsxs)(j,{isTable:e.isTable,children:[e.title&&Object(a.jsx)(x,{children:e.title}),e.header]}),Object(a.jsx)(y,{isTable:e.isTable,children:e.children||e.body})]}))};t.b=function(e){return Object(a.jsxs)(m,Object(r.a)(Object(r.a)({},e),{},{children:[e.header&&Object(a.jsxs)(j,{isTable:e.isTable,children:[e.title&&Object(a.jsx)(x,{children:e.title}),e.header]}),Object(a.jsx)(y,{isTable:e.isTable,children:e.children||e.body})]}))}},2985:function(e){e.exports=JSON.parse('{"a":[{"constant":true,"inputs":[{"components":[{"name":"target","type":"address"},{"name":"callData","type":"bytes"}],"name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"name":"blockNumber","type":"uint256"},{"name":"returnData","type":"bytes[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]}')},3067:function(e,t,n){"use strict";n.d(t,"a",(function(){return le})),n.d(t,"b",(function(){return de})),n.d(t,"g",(function(){return pe})),n.d(t,"h",(function(){return be})),n.d(t,"f",(function(){return he})),n.d(t,"c",(function(){return ye})),n.d(t,"d",(function(){return xe})),n.d(t,"e",(function(){return ge}));var r=n(39),a=n(1),i=n.n(a),s=n(58),c=n(20),o=n(274),u=(n(164),n(3236)),l=n.n(u),d=n(3237),p=n(2985),f=n(51),b={1:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-beta",42:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-kovan"};function m(){return(m=Object(c.a)(i.a.mark((function e(t,n,a,s,c,o){var u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={poolShares:{__args:{where:{userAddress_in:s.map((function(e){return e.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==o&&(u.poolShares.__args.block={number:o}),e.next=4,be(b[n],u);case 4:return l=e.sent,d={},l&&l.poolShares&&l.poolShares.forEach((function(e){return e.poolId.tokens.map((function(t){var n=t.id.split("-");if(Object(r.a)(n,2)[1]===c.address.toLowerCase()){var a=Object(f.getAddress)(e.userAddress.id);d[a]||(d[a]=0),d[a]=d[a]+t.balance/e.poolId.totalShares*e.balance}}))})),e.abrupt("return",d||{});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=n(232);function j(e,t){return(e.args||["%{address}"]).map((function(e){return"string"===typeof e?e.replace(/%{address}/g,t):e}))}function y(){return(y=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,[s.methodABI],a.map((function(e){return[s.address,s.methodABI.name,j(s,e)]})),{blockTag:o});case 3:return u=e.sent,e.abrupt("return",Object.fromEntries(u.map((function(e,t){return[a[t],parseFloat(Object(h.formatUnits)(e.toString(),s.decimals))]}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function g(e,t,n,r,a,i){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,x,a.map((function(e){return[s.address,"balanceOf",[e]]})),{blockTag:o});case 3:return u=e.sent,e.abrupt("return",Object.fromEntries(u.map((function(e,t){return[a[t],parseFloat(Object(h.formatUnits)(e.toString(),s.decimals))]}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,n,r,a,s,c);case 2:return o=e.sent,e.abrupt("return",Object.fromEntries(Object.entries(o).map((function(e){return[e[0],e[1]*s.coeff]}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,n,r,a,s,c);case 2:return o=e.sent,u=Object.values(o).reduce((function(e,t){return e+t}),0),e.abrupt("return",Object.fromEntries(Object.entries(o).map((function(e){return[e[0],s.total*e[1]/u]}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,n,r,a,s,c);case 2:return o=e.sent,e.abrupt("return",Object.fromEntries(Object.entries(o).map((function(e){return[e[0],Math.sqrt(e[1])]}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,n,r,a,s,c);case 2:return o=e.sent,e.abrupt("return",Object.fromEntries(Object.entries(o).map((function(e){return[e[0],e[1]>(s.minBalance||0)?1:0]}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n,r,a,i){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(i.a.mark((function e(t,n,a,s,c,o){var u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={delegations:{__args:{where:{delegate_in:s.map((function(e){return e.toLowerCase()})),delegator_not_in:s.map((function(e){return e.toLowerCase()})),space_in:["",t]},first:1e3},delegator:!0,space:!0,delegate:!0}},"latest"!==o&&(u.delegations.__args.block={number:o}),e.next=4,be(de[n],u);case 4:if((l=e.sent)&&l.delegations){e.next=7;break}return e.abrupt("return",{});case 7:return d={},l.delegations.forEach((function(e){return d[e.delegator]=e.delegate})),l.delegations.filter((function(e){return""!==e.space})).forEach((function(e){return d[e.delegator]=e.delegate})),e.abrupt("return",Object.fromEntries(s.map((function(e){return[e,Object.entries(d).filter((function(t){var n=Object(r.a)(t,2)[1];return e.toLowerCase()===n})).map((function(e){return Object(r.a)(e,1)[0]}))]}))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t,n,r,a,s,c);case 2:if(o=e.sent,0!==Object.keys(o).length){e.next=5;break}return e.abrupt("return",{});case 5:return console.debug("Delegations",o),e.next=8,g(t,n,r,Object.values(o).reduce((function(e,t){return e.concat(t)})),s,c);case 8:return u=e.sent,console.debug("Delegators score",u),e.abrupt("return",Object.fromEntries(a.map((function(e){return[e,o[e]?o[e].reduce((function(e,t){return e+u[t]}),0):0]}))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,p.a,a.map((function(e){return[le[n],"getEthBalance",[e]]})),{blockTag:o});case 3:return u=e.sent,e.abrupt("return",Object.fromEntries(u.map((function(e,t){return[a[t],parseFloat(Object(h.formatUnits)(e.toString(),18))]}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={1:"0x9ef05f7f6deb616fd37ac3c959a2ddd25a54e4f5"},C=[{constant:!0,inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function M(){return(M=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,C,a.map((function(e){return[_[n],"deposits",[e]]})),{blockTag:o});case 3:return u=e.sent,e.abrupt("return",Object.fromEntries(u.map((function(e,t){return[a[t],parseFloat(Object(h.formatUnits)(e.toString(),s.decimals))]}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z={1:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"},A=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"getCurrentVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"}];function P(){return(P=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,A,a.map((function(e){return[z[n],"getCurrentVotes",[e.toLowerCase()],{blockTag:o}]})));case 3:return u=e.sent,e.abrupt("return",Object.fromEntries(u.map((function(e,t){return[a[t],parseFloat(Object(h.formatUnits)(e.toString(),s.decimals))]}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=[{constant:!0,inputs:[],name:"getPricePerFullShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function F(){return(F=Object(c.a)(i.a.mark((function e(t,n,a,s,c,o){var u,l,d,p,f,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="number"===typeof o?o:"latest",e.next=3,Promise.all([g(t,n,a,s,c,o),pe(n,a,D,[[c.address,"getPricePerFullShare",[]]],{blockTag:u})]);case 3:return l=e.sent,d=Object(r.a)(l,2),p=d[0],f=Object(r.a)(d[1],1),b=f[0],b=parseFloat(Object(h.formatUnits)(b.toString(),18)),e.abrupt("return",Object.fromEntries(Object.entries(p).map((function(e){return[e[0],e[1]*b]}))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"memberAddressByDelegateKey",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"members",outputs:[{internalType:"address",name:"delegateKey",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"loot",type:"uint256"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"highestIndexYesVote",type:"uint256"},{internalType:"uint256",name:"jailed",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function V(){return(V=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,I,a.map((function(e){return[s.address,"memberAddressByDelegateKey",[e]]})),{blockTag:o});case 3:return u=e.sent,e.next=6,pe(n,r,I,u.filter((function(e){return"0x0000000000000000000000000000000000000000"!==e.toString()})).map((function(e){return[s.address,"members",[e.toString()]]})),{blockTag:o});case 6:return l=e.sent,e.abrupt("return",Object.fromEntries(l.map((function(e,t){return[a[t],parseFloat(Object(h.formatUnits)(e.shares.toString(),s.decimals))]}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L={1:"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2"};function U(){return(U=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={users:{__args:{where:{id_in:a.map((function(e){return e.toLowerCase()}))},first:1e3},id:!0,liquidityPositions:{__args:{where:{liquidityTokenBalance_gt:0}},liquidityTokenBalance:!0,pair:{id:!0,token0:{id:!0},reserve0:!0,token1:{id:!0},reserve1:!0,totalSupply:!0}}}},"latest"!==c&&(o.users.liquidityPositions.__args.block={number:c}),u=s.address.toLowerCase(),e.next=5,be(L[n],o);case 5:return l=e.sent,d={},l&&l.users&&l.users.forEach((function(e){e.liquidityPositions.filter((function(e){return e.pair.token0.id==u||e.pair.token1.id==u})).forEach((function(t){var n=t.pair.reserve0/t.pair.totalSupply,r=t.pair.reserve1/t.pair.totalSupply,a=t.pair.token0.id==u?n*t.liquidityTokenBalance:r*t.liquidityTokenBalance,i=Object(f.getAddress)(e.id);d[i]||(d[i]=0),d[i]=d[i]+a}))})),e.abrupt("return",d||{});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"}],Y=[{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"}],H="0x73feaa1eE314F8c655E354234017bE2193C9E24E";function J(){return(J=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,g(t,n,r,a,s,c);case 3:return u=e.sent,e.next=6,pe(n,r,Y,a.map((function(e){return[H,"userInfo",["0",e]]})),{blockTag:o});case 6:return l=e.sent,e.next=9,Promise.all(s.chefAddresses.map((function(e){return pe(n,r,q,a.map((function(t){return[e.address,"userInfo",[t],{blockTag:o}]})),{blockTag:o})})));case 9:return d=e.sent,e.abrupt("return",Object.fromEntries(Object.entries(u).map((function(e,t){return[e[0],e[1]+l.reduce((function(e,t,n){return e+parseFloat(Object(h.formatUnits)(t.amount.toString(),18))}),0)+d.reduce((function(e,n,r){return e+parseFloat(Object(h.formatUnits)(n[t].amount.toString(),s.chefAddresses[r].decimals))}),0)]}))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=[{constant:!0,inputs:[{name:"",type:"address"}],name:"issuanceData",outputs:[{name:"initialDebtOwnership",type:"uint256"},{name:"debtEntryIndex",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],K="0x4b9Ca5607f1fF8019c1C6A3c2f0CC8de622D5B82";function R(){return(R=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,G,a.map((function(e){return[K,"issuanceData",[e]]})),{blockTag:o});case 3:return u=e.sent,l=function(e){var t=1e5*e;return Math.sqrt(t)},e.abrupt("return",Object.fromEntries(u.map((function(e,t){return[a[t],l(parseFloat(Object(h.formatUnits)(e.initialDebtOwnership.toString(),27)))]}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"borrowBalanceStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function Q(){return(Q=Object(c.a)(i.a.mark((function e(t,n,a,s,c,o){var u,l,d,p,f,b,m,j,y,x,g,O,v,w,k,T;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u="number"===typeof o?o:"latest","number"!==typeof o){e.next=5;break}e.t0=o-c.offsetCheck,e.next=10;break;case 5:return e.next=7,a.getBlockNumber();case 7:e.t1=e.sent,e.t2=c.offsetCheck,e.t0=e.t1-e.t2;case 10:return l=e.t0,d=s.map((function(e){return[c.address,"balanceOf",[e]]})),p=s.map((function(e){return[c.address,"borrowBalanceStored",[e]]})),f=d.concat(p),e.next=16,Promise.all([pe(n,a,W,f,{blockTag:u}),pe(n,a,W,s.map((function(e){return[c.address,"balanceOf",[e]]})),{blockTag:l})]);case 16:for(b=e.sent,m=Object(r.a)(b,2),j=m[0],y=m[1],x=j.slice(0,s.length),g=j.slice(s.length),O={},v=0;v<x.length;v++)w=1,c.borrowingRestricted&&(w=0==g[v].toString().localeCompare("0")?1:0),k=parseFloat(Object(h.formatUnits)(x[v].toString(),c.decimals)),T=parseFloat(Object(h.formatUnits)(y[v].toString(),c.decimals)),O[s[v]]=Math.min(k,T)*w;return e.abrupt("return",O);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X={1:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-v2",3:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-dev"},Z=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function $(){return($=Object(c.a)(i.a.mark((function e(t,n,a,s,c,o){var u,l,d,p,f,b,m,h,j,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=c.address,e.next=3,Promise.all([ee(n,s,u,o),ne(n,a,s,c,o)]);case 3:for(l=e.sent,d=Object(r.a)(l,2),p=d[0],f=d[1],b=0,m=Object.entries(f);b<m.length;b++)h=Object(r.a)(m[b],2),j=h[0],y=h[1],p[j]||(p[j]=0),p[j]=p[j]+y;return e.abrupt("return",p||{});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return(te=Object(c.a)(i.a.mark((function e(t,n,a,s){var c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={poolShares:{__args:{where:{userAddress_in:n.map((function(e){return e.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==s&&(c.poolShares.__args.block={number:s}),e.next=4,be(X[t],c);case 4:return o=e.sent,u={},o&&o.poolShares&&o.poolShares.forEach((function(e){return e.poolId.tokens.map((function(t){var n=t.id.split("-"),i=Object(r.a)(n,2)[1];if("string"===typeof a&&i===a.toLowerCase()){var s=Object(f.getAddress)(e.userAddress.id);u[s]||(u[s]=0),u[s]=u[s]+t.balance/e.poolId.totalShares*e.balance}}))})),e.abrupt("return",u||{});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n,r,a){return re.apply(this,arguments)}function re(){return(re=Object(c.a)(i.a.mark((function e(t,n,r,a,c){var o,u,l,d,p,f,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o="number"===typeof c?c:"latest",u=a.pools.length,l=r.length,d=[],p=function(e){d.push.apply(d,Object(s.a)(r.map((function(t){return[a.pools[e].address,"balanceOf",[t]]}))))},f=0;f<u;f++)p(f);return e.next=8,pe(t,n,Z,d,{blockTag:o});case 8:return b=e.sent,e.abrupt("return",Object.fromEntries(r.map((function(e,t){for(var n=0,r=0;r<u;r++)n+=parseFloat(Object(h.formatUnits)(b[t+r*l].toString(),18));return[e,n]}))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOfBonded",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function ie(){return(ie=Object(c.a)(i.a.mark((function e(t,n,r,a,c,o){var u,l,d,p,f,b,m,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="number"===typeof o?o:"latest",l=a.map((function(e){return[c.dao,"balanceOfBonded",[e]]})),d=a.map((function(e){return[c.rewards,"balanceOfBonded",[e]]})),e.next=5,pe(n,r,ae,[[c.token,"balanceOf",[c.uniswap]],[c.uniswap,"totalSupply"]].concat(Object(s.a)(l),Object(s.a)(d)),{blockTag:u});case 5:return p=e.sent,f=p[0],b=p[1],m=p.slice(2,a.length+2),j=p.slice(a.length+2,2*a.length+2),e.abrupt("return",Object.fromEntries(Array(a.length).fill("x").map((function(e,t){return[a[t],parseFloat(Object(h.formatUnits)(f[0].div(b[0]).mul(j[t][0]).add(m[t][0]).toString(),c.decimals))]}))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function ce(){return(ce=Object(c.a)(i.a.mark((function e(t,n,r,a,s,c){var o,u,l,d,p,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="number"===typeof c?c:"latest",e.next=3,pe(n,r,se,[[s.uniswapAddress,"totalSupply",[]],[s.tokenAddress,"balanceOf",[s.uniswapAddress]]].concat(a.map((function(e){return[s.stakingAddress,"balanceOf",[e]]}))),{blockTag:o});case 3:return u=e.sent,l=u[0],d=u[1],p=d/Math.pow(10,s.decimals)/(l/1e18),f=u.slice(2),e.abrupt("return",Object.fromEntries(f.map((function(e,t){return[a[t],e/Math.pow(10,s.decimals)*p]}))));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe={balancer:function(e,t,n,r,a,i){return m.apply(this,arguments)},"contract-call":function(e,t,n,r,a,i){return y.apply(this,arguments)},"erc20-balance-of":g,"erc20-balance-of-fixed-total":function(e,t,n,r,a,i){return w.apply(this,arguments)},"erc20-balance-of-cv":function(e,t,n,r,a,i){return k.apply(this,arguments)},"erc20-balance-of-coeff":function(e,t,n,r,a,i){return v.apply(this,arguments)},"erc20-with-balance":function(e,t,n,r,a,i){return T.apply(this,arguments)},"erc20-balance-of-delegation":function(e,t,n,r,a,i){return E.apply(this,arguments)},"eth-balance":function(e,t,n,r,a,i){return B.apply(this,arguments)},"maker-ds-chief":function(e,t,n,r,a,i){return M.apply(this,arguments)},uni:function(e,t,n,r,a,i){return P.apply(this,arguments)},"yearn-vault":function(e,t,n,r,a,i){return F.apply(this,arguments)},moloch:function(e,t,n,r,a,i){return V.apply(this,arguments)},uniswap:function(e,t,n,r,a,i){return U.apply(this,arguments)},pancake:function(e,t,n,r,a,i){return J.apply(this,arguments)},synthetix:function(e,t,n,r,a,i){return R.apply(this,arguments)},ctoken:function(e,t,n,r,a,i){return Q.apply(this,arguments)},cream:function(e,t,n,r,a,i){return $.apply(this,arguments)},"staked-uniswap":function(e,t,n,r,a,i){return ce.apply(this,arguments)},esd:function(e,t,n,r,a,i){return ie.apply(this,arguments)}},ue=n(72),le={1:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",4:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",5:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",6:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",42:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",56:"0x1ee38d535d541c55c9dae27b12edf090c608e6fb",82:"0x579De77CAEd0614e3b158cb738fcD5131B9719Ae",97:"0x8b54247c6BAe96A6ccAFa468ebae96c4D7445e46",100:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",wanchain:"0xba5934ab3056fca1fa458d30fbb3810c3eb5145f"},de={1:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot",4:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-rinkeby",42:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-kovan"};function pe(e,t,n,r,a){return fe.apply(this,arguments)}function fe(){return(fe=Object(c.a)(i.a.mark((function e(t,n,a,s,c){var u,l,d,f,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new o.b(a),l=Object(ue.e)(le[t],p.a,n),e.prev=2,e.prev=3,e.next=6,l.aggregate(s.map((function(e){return[e[0].toLowerCase(),u.encodeFunctionData(e[1],e[2])]})),c||{});case 6:return d=e.sent,f=Object(r.a)(d,2),b=f[1],e.abrupt("return",b.map((function(e,t){return u.decodeFunctionResult(s[t][1],e)})));case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",[]);case 15:e.next=20;break;case 17:return e.prev=17,e.t1=e.catch(2),e.abrupt("return",Promise.reject(e.t1));case 20:case"end":return e.stop()}}),e,null,[[2,17],[3,12]])})))).apply(this,arguments)}function be(e,t){return me.apply(this,arguments)}function me(){return(me=Object(c.a)(i.a.mark((function e(t,n){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:Object(d.jsonToGraphQLQuery)({query:n})})});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,s=a.data,e.abrupt("return",s||{});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t,n,r,a){return je.apply(this,arguments)}function je(){return(je=Object(c.a)(i.a.mark((function e(t,n,r,a,s){var c,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>5&&void 0!==o[5]?o[5]:"latest",e.next=3,Promise.all(n.map((function(e){return oe[e.name](t,r,a,s,e.params,c)})));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"(0.[00]a)";return l()(e).format(t)}function xe(e){var t=JSON.parse(JSON.stringify(e));return t.msg=function(e,t){if("string"!==typeof e)return t||{};try{return JSON.parse(e)}catch(n){return t||{}}}(t.msg,t.msg),"0.1.0"===t.msg.version&&(t.msg.payload.start=1595088e3,t.msg.payload.end=1595174400,t.msg.payload.snapshot=10484400,t.bpt_voting_disabled="1"),"0.1.0"!==t.msg.version&&"0.1.1"!==t.msg.version||(t.msg.payload.metadata={}),t}function ge(e){return Object.fromEntries(Object.entries(e).map((function(e){return[e[0],xe(e[1])]})))}},4039:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(8),i=n(1),s=n.n(i),c=n(20),o=n(39),u=n(36),l=n(0),d=n(2807),p=n(1174),f=n(2808),b=n(3184),m=n(43),h=n(3067),j=n(38);function y(){var e=Object(u.a)(["\n  font-size: .75rem;\n  font-weight: 400;\n  margin: 0;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-size: .875rem;\n    font-weight: 500;\n\n  }\n"]);return y=function(){return e},e}function x(){var e=Object(u.a)(["\n  position: relative;\n  transition: .3s ease all;\n  width: 100%;\n  \n  &:not(:last-child) {\n    margin-bottom: 1.875rem;\n  }\n"]);return x=function(){return e},e}var g=j.default.div(x()),O=j.default.span(y()),v=function(e){return Object(r.jsxs)(g,{className:"d-flex align-items-center justify-content-between",children:[Object(r.jsx)(O,{children:e.title}),Object(r.jsx)("div",{children:e.children})]})},w=n(712),k=n(2811),T=n(426),S=n(1099);function N(){var e=Object(u.a)(["\n  color: white;\n  font-size: 0.75rem;\n  font-weight: 400;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n"]);return N=function(){return e},e}function E(){var e=Object(u.a)(["\n  color: white;\n  font-size: 0.875rem;\n  font-weight: 500;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n"]);return E=function(){return e},e}function B(){var e=Object(u.a)(["\n  padding: 10px 0;\n  position: relative;\n  transition: .3s ease all;\n  margin-bottom: 0.625rem;\n  \n  td {\n    height: 40px;\n    &:last-child {\n      text-align: right;\n    }\n  }\n  \n  @media (min-width: 768px) {\n      background-color: ",";\n      \n      td {\n        border-top: 1px solid rgba(255, 255, 255, 0.5);\n        border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n        height: 50px;\n        \n        &:first-child {\n          border-left: 1px solid rgba(255, 255, 255, 0.5);\n          border-top-left-radius: 18px;\n          border-bottom-left-radius: 18px;\n          padding-left: 30px;\n        }\n        \n        &:last-child {\n          border-right: 1px solid rgba(255, 255, 255, 0.5);\n          border-top-right-radius: 18px;\n          padding-right: 30px;\n          border-bottom-right-radius: 18px;\n          max-width: 80px;\n          text-align: left;\n        }\n      }\n      \n      \n      &:hover {\n        background-color: ",";\n        border-color: rgba(255, 255, 255, 0.8);\n      }\n  }\n  \n"]);return B=function(){return e},e}function _(){var e=Object(u.a)(["\n    width: 24px;\n    height: 24px;\n    margin-right: 10px;\n    \n    @media (min-width: 768px) {\n        width: 32px;\n        height: 32px;\n        margin-right: 15px;\n    }\n"]);return _=function(){return e},e}var C=Object(j.default)(S.a)(_()),M=j.default.tr(B(),(function(e){return e.theme.modalBG}),(function(e){return e.theme.bg2})),z=j.default.span(E()),A=j.default.span(N()),P=function(e){return Object(r.jsxs)(M,{children:[Object(r.jsx)("td",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("div",{className:"d-none d-lg-block",children:Object(r.jsx)(C,{address:e.address})}),Object(r.jsxs)(A,{children:[e.address.slice(0,6),"...",e.address.slice(-4)]})]})}),Object(r.jsx)("td",{children:Object(r.jsx)(z,{className:"d-none d-lg-flex",children:e.vote})}),Object(r.jsx)("td",{children:Object(r.jsxs)(z,{children:[Object(h.c)(e.score)," ",e.symbol]})})]})},D=n(686);function F(){var e=Object(u.a)(["\n  width: ","px;\n  height: ","px;\n  border-radius: ","px;\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.075);\n  display: none;\n  \n  @media (min-width: 768px) {\n  display: initial;\n  }\n"]);return F=function(){return e},e}var I=j.default.img(F(),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size})),V=function(e){var t=Object(D.c)(e.id,e.symbolIndex);return Object(r.jsx)(I,{src:t,size:e.size})},L=n(685),U=n.n(L),q=n(417),Y=n(134),H=n(3682),J=n(2818),G=n(684),K=n(689);function R(){var e=Object(u.a)(["\n  height: 1px;\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  display: none;\n"]);return R=function(){return e},e}function W(){var e=Object(u.a)(["\n  border-spacing: 0 10px;\n  border-collapse: separate;\n"]);return W=function(){return e},e}function Q(){var e=Object(u.a)(["\n  background-color: ",";\n  border-radius: 20px;\n"]);return Q=function(){return e},e}function X(){var e=Object(u.a)(["\n  background-color: rgba(71, 183, 254, 0.3);\n  height: 5px;\n  border: none;\n  width: 100%;\n  border-radius: 20px;\n"]);return X=function(){return e},e}function Z(){var e=Object(u.a)(["\n  font-size: .875rem;\n  font-weight: 400;\n  margin: 0;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-weight: 500;\n  }\n"]);return Z=function(){return e},e}function $(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  \n  &:not(:last-child) {\n    margin-bottom: 40px;\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(u.a)(["\n  font-size: 0.875rem;\n  font-weight: ",";\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n    font-weight: 700;\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(u.a)(["\n  color: ",";\n  font-weight: 700;\n  font-size: 0.875rem;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n  \n  &:focus,\n  &:active {\n    outline: none;\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(u.a)(["\n  font-size: 0.875rem;\n  font-weight: 500;\n  padding-left: 11px;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n    font-weight: 700;\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(u.a)(["\n  line-height: 19px;\n  font-size: 1rem !important;\n  color: white;\n  font-weight: 400;\n  \n  & p {\n    margin: 0;\n    font-weight: 400;\n    font-size: 0.875rem;\n\n      @media (min-width: 768px) {\n        font-size: 1rem;\n      }\n  }\n  \n  & h1,\n  & h2,\n  & h3,\n  & h4,\n  & h5,\n  & h6 {\n    font-size: 1.25rem;\n    margin-bottom: 0;\n    font-weight: 500;\n    \n    \n      @media (min-width: 768px) {\n        font-size: 1.875rem;\n      }\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(u.a)(["\n  min-height: 40px;\n  display: flex;\n  align-items: center;\n  \n  & .label {\n    @media (max-width: 767px) {\n      height: 30px;\n      padding: 5px 17px;\n      border-radius: 12px;\n      font-size: .875rem;\n    }\n  }\n \n"]);return ae=function(){return e},e}function ie(){var e=Object(u.a)(["\n  margin-bottom: .5rem;\n  font-size: 0.875rem;\n  font-weight: 400;\n  color: white;\n  display: none;\n  \n  @media (min-width: 768px) {\n    display: block;\n  }\n"]);return ie=function(){return e},e}function se(){var e=Object(u.a)(["\n  font-weight: 700;\n  font-size: 0.875rem;\n  line-height: 1.5rem;\n  color: white;\n  margin: 0 auto 0 0;\n  padding-right: .75rem;\n  \n  \n  @media (min-width: 768px) {\n  padding-right: 0;\n  font-size: 1.25rem;\n  margin: 0 1.25rem 0 0;\n  }\n"]);return se=function(){return e},e}function ce(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: -5px;\n  \n  @media (min-width: 768px) {\n    margin: -10px 0 -18px;\n    height: ",";\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(u.a)(["\n  @media (max-width: 767px) {\n    .card-body {\n      padding-top: 0; \n    }\n  }\n"]);return oe=function(){return e},e}function ue(){var e=Object(u.a)(["\n  font-weight: 500;\n  font-size: 1rem;\n  \n  @media (min-width: 768px) {\n  font-weight: 400;\n  }\n"]);return ue=function(){return e},e}var le=new H.a,de=j.default.button(ue()),pe=Object(j.default)(k.b)(oe()),fe=j.default.div(ce(),(function(e){return e.withoutSubtitle?"70px":"auto"})),be=j.default.h4(se()),me=j.default.span(ie()),he=j.default.div(ae()),je=j.default.div(re()),ye=j.default.span(ne()),xe=j.default.a(te(),(function(e){return e.theme.primary1})),ge=j.default.span(ee(),(function(e){return e.fontWeight||700})),Oe=j.default.div($()),ve=j.default.span(Z()),we=j.default.div(X()),ke=j.default.div(Q(),(function(e){return e.theme.primary})),Te=j.default.table(W()),Se=j.default.thead(R());t.default=function(e){var t,n=Object(Y.d)(),i=n.account,u=n.library,j=Object(l.useState)(!1),y=Object(o.a)(j,2),x=y[0],g=y[1],O=Object(l.useState)(null),S=Object(o.a)(O,2),N=S[0],E=S[1],B=Object(l.useState)(!1),_=Object(o.a)(B,2),M=_[0],z=_[1],A=Object(l.useState)(!1),F=Object(o.a)(A,2),I=F[0],L=F[1],H=Object(l.useState)({}),R=Object(o.a)(H,2),W=R[0],Q=R[1],X=Object(l.useState)({}),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(l.useState)({}),ne=Object(o.a)(te,2),re=ne[0],ae=ne[1],ie=Object(m.d)(),se=Object(m.e)((function(e){return e.governance})),ce=se.spaces,oe=se.loading,ue=se.proposals,Ne=new w.a,Ee=e.match.params.space,Be=e.match.params.id,_e=ce[Ee];Object(l.useEffect)((function(){0===Object.keys(ce).length?ie(Object(T.b)()):ce.hasOwnProperty(Ee)?(ie(Object(T.a)(Ee)),Ne.get("votes",{id:Ee,address:Be}).then((function(e){Q(e)})).catch((function(e){console.log(e)}))):e.history.push("/governance")}),[ce,Ee,Be,ie,e.history]);var Ce=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a,i,c,o,l,d,p,f,b,m,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},!(Object.keys(t).length>0)){e.next=9;break}return m=n.hasOwnProperty(Ee)&&n[Ee].hasOwnProperty(Be)?Object(h.d)(Object.assign({},n[Ee][Be])):Object(h.d)({}),e.next=5,Object(h.f)(Ee,_e.strategies,_e.network,u,Object.keys(t));case 5:j=e.sent,r.votes=Object.fromEntries(Object.entries(t).map((function(e){var t=[e[0],Object.assign({},e[1])];return t[1].scores=_e.strategies.map((function(e,n){return j[n][t[1].address]||0})),t[1].balance=t[1].scores.reduce((function(e,t){return e+t}),0),t})).sort((function(e,t){return t[1].balance-e[1].balance}))),r.results={totalVotes:null===(a=m.msg)||void 0===a||null===(i=a.payload)||void 0===i||null===(c=i.choices)||void 0===c?void 0:c.map((function(e,t){return Object.values(r.votes).filter((function(e){return e.msg.payload.choice===t+1})).length})),totalBalances:null===(o=m.msg)||void 0===o||null===(l=o.payload)||void 0===l||null===(d=l.choices)||void 0===d?void 0:d.map((function(e,t){return Object.values(r.votes).filter((function(e){return e.msg.payload.choice===t+1})).reduce((function(e,t){return e+t.balance}),0)})),totalScores:null===(p=m.msg)||void 0===p||null===(f=p.payload)||void 0===f||null===(b=f.choices)||void 0===b?void 0:b.map((function(e,t){return _e.strategies.map((function(e,n){return Object.values(r.votes).filter((function(e){return e.msg.payload.choice===t+1})).reduce((function(e,t){return e+t.scores[n]}),0)}))})),totalVotesBalances:Object.values(r.votes).reduce((function(e,t){return e+t.balance}),0)},ee(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){Ce(W,ue)}),[ue,W]),Object(l.useEffect)((function(){if(ue.hasOwnProperty(Ee))if(ue[Ee].hasOwnProperty(Be)){g(ue[Ee][Be]);var t=(Date.now()/1e3).toFixed(),n=ue[Ee][Be].msg.payload,r=n.start,a=n.end;ae(t>a?{title:"Closed",className:"label-light-danger"}:t>r?{title:"Active",className:"label-light-success"}:{title:"Pending",className:"label-light-info"})}else e.history.push("/governance/".concat(Ee));else g(!1)}),[ue,Ee,Be,e.history]);var Me=Object(l.useCallback)(Object(c.a)(s.a.mark((function e(){var t,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={token:ce[Ee].token,type:"vote",space:Ee,payload:{proposal:Be,choice:N,metadata:{}}},n={address:i,msg:JSON.stringify(Object(a.a)({version:"0.1.3",timestamp:(Date.now()/1e3).toFixed()},t))},e.prev=2,Object(K.c)("Sending ...",{icon:"\ud83d\udca1"}),r=u.getSigner(i),e.next=7,r.signMessage(n.msg);case 7:return n.sig=e.sent,e.next=10,Ne.sendMessage(n);case 10:c=e.sent,K.c.success("Your Vote is in!"),c.hasOwnProperty("ipfsHash")&&Ne.get("votes",{id:Ee,address:Be}).then((function(e){Q(e)})).catch((function(e){console.log(e)})),z(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),K.c.error("Something went wrong!");case 19:case"end":return e.stop()}}),e,null,[[2,16]])}))),[x,N,i,Be,Ne,Ee,u,ce]);return Object(r.jsxs)(J.a,{title:"Governance",morePadding:!0,children:[Object(r.jsx)(d.a,{children:Object(r.jsx)(p.a,{xs:12,style:{marginTop:-30},children:oe&&!x?Object(r.jsx)(k.b,{children:Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center py-5 w-100",children:Object(r.jsx)(q.a,{color:"primary",width:40,height:40,active:!0,id:"vote-loading"})})}):x&&Object(r.jsxs)(d.a,{className:"custom-row",children:[Object(r.jsx)(p.a,{className:"order-2 order-md-1",xs:12,md:8,children:Object(r.jsxs)(d.a,{children:[Object(r.jsx)(p.a,{xs:12,className:"gutter-b",children:Object(r.jsx)(k.b,{header:Object(r.jsxs)(fe,{className:"d-flex flex-column justify-content-around",children:[Object(r.jsx)(me,{children:"Proposal"}),Object(r.jsxs)(he,{children:[Object(r.jsx)(be,{children:x.msg.payload.name}),re&&Object(r.jsx)("span",{className:"label ".concat(re.className," label-lg font-weight-medium d-flex label-inline py-3"),children:re.title})]})]}),children:Object(r.jsx)(je,{className:"font-size-lg opacity-80",style:{whiteSpace:"pre-wrap"},dangerouslySetInnerHTML:{__html:le.render(x.msg.payload.body)}})})}),"Active"===re.title&&Object(r.jsx)(p.a,{xs:12,className:"gutter-b",children:Object(r.jsx)(k.b,{header:Object(r.jsxs)(fe,{className:"d-flex flex-column justify-content-around",children:[Object(r.jsx)(me,{children:"Vote"}),Object(r.jsx)(he,{children:Object(r.jsx)(be,{children:"Cast Your vote"})})]}),children:Object(r.jsxs)("div",{className:"d-flex flex-column",children:[x.msg.payload.choices.map((function(e,t){return Object(r.jsx)("button",{className:"btn ".concat(t===N-1?"btn-secondary-light":"btn-light-secondary-light"," mb-2 btn-block py-3"),onClick:E.bind(undefined,t+1),children:e},t)})),Object(r.jsx)(G.a,{className:"py-3 mt-3 align-self-center",disabled:!N,style:{width:250},onClick:function(){return z(!0)},children:"Vote"})]})})}),Object(r.jsx)(p.a,{xs:12,className:"gutter-b",children:Object(r.jsx)(pe,{header:Object(r.jsxs)(fe,{className:"d-flex flex-column justify-content-around",children:[Object(r.jsx)(me,{children:"Proposal"}),Object(r.jsxs)(he,{children:[Object(r.jsx)(be,{children:"Votes"}),W&&Object(r.jsx)("span",{className:"label label-light-primary label-lg font-weight-medium d-flex label-inline py-3",children:Object.keys(W).length})]})]}),children:Object(r.jsxs)("div",{className:"d-flex flex-column",children:[Object(r.jsxs)(Te,{children:[Object(r.jsx)(Se,{style:{maxHeight:1,opacity:0,visibility:"hidden"},children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"user"}),Object(r.jsx)("td",{children:"vote"}),Object(r.jsx)("td",{children:"power"})]})}),Object(r.jsx)("tbody",{children:W?I||$.hasOwnProperty("votes")&&Object.keys($.votes||{}).length<10?Object.values($.votes).map((function(e,t){var n,a;return Object(r.jsx)(P,{address:null===e||void 0===e?void 0:e.address,vote:null===x||void 0===x||null===(n=x.msg)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.choices[e.msg.payload.choice-1],score:null===e||void 0===e?void 0:e.balance,symbol:null===_e||void 0===_e?void 0:_e.symbol},t)})):$.hasOwnProperty("votes")&&Object.values($.votes).slice(0,10).map((function(e,t){var n,a;return Object(r.jsx)(P,{address:null===e||void 0===e?void 0:e.address,vote:null===x||void 0===x||null===(n=x.msg)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.choices[e.msg.payload.choice-1],score:null===e||void 0===e?void 0:e.balance,symbol:null===_e||void 0===_e?void 0:_e.symbol},t)})):null})]}),W?Object(r.jsx)(r.Fragment,{children:Object.keys(W||{}).length>10?Object(r.jsx)(de,{className:"btn btn-link ",onClick:function(){return L(!0)},children:"Show More"}):null}):Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center py-5 w-100",children:Object(r.jsx)(q.a,{color:"primary",width:40,height:40,active:!0,id:"votes-loading"})})]})})})]})}),Object(r.jsxs)(p.a,{className:"order-1 order-md-2",xs:12,md:4,children:[Object(r.jsx)(k.b,{header:Object(r.jsx)(fe,{className:"d-flex flex-column justify-content-around",withoutSubtitle:!0,children:Object(r.jsx)(he,{children:Object(r.jsx)(be,{children:"Information"})})}),children:Object(r.jsxs)("div",{className:"d-flex flex-column justify-content-start",children:[Object(r.jsx)(v,{title:"Token(s)",children:Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:ce[Ee].strategies.map((function(e,t){return Object(r.jsxs)("div",{className:"d-flex align-items-center",style:{marginLeft:0!==t?"21px":"0px"},children:[Object(r.jsx)(V,{id:Ee,symbolIndex:t,size:30}),Object(r.jsx)(ye,{children:e.params.symbol})]})}))})}),Object(r.jsx)(v,{title:"Author",children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)(C,{address:x&&x.address}),Object(r.jsxs)(xe,{href:"https://etherscan.io/address/".concat(x&&x.address),target:"_blank",rel:"noopener noreferrer",children:[x&&x.address.slice(0,6),"...",x&&x.address.slice(-4)]})]})}),Object(r.jsx)(v,{title:"IPFS",children:Object(r.jsxs)(xe,{href:"https://ipfs.io/ipfs/".concat(x&&x.authorIpfsHash),target:"_blank",rel:"noopener noreferrer",children:["#",x&&x.authorIpfsHash.slice(0,7)]})}),Object(r.jsx)(v,{title:"Start Date",children:Object(r.jsx)(ge,{fontWeight:400,children:x&&U()(1e3*x.msg.payload.start).format("YYYY/MM/DD hh:mm")})}),Object(r.jsx)(v,{title:"End Date",children:Object(r.jsx)(ge,{fontWeight:400,children:x&&U()(1e3*x.msg.payload.end).format("YYYY/MM/DD hh:mm")})}),Object(r.jsx)(v,{title:"Token",children:Object(r.jsx)(ge,{children:x&&x.address.slice(0,6)})}),Object(r.jsx)(v,{title:"Snapshot",children:Object(r.jsx)(xe,{href:"https://etherscan.io/block/".concat(x&&x.msg.payload.snapshot),target:"_blank",rel:"noopener noreferrer",children:x&&x.msg.payload.snapshot})})]})}),(null===(t=$.results)||void 0===t?void 0:t.hasOwnProperty("totalBalances"))&&Object(r.jsx)(k.b,{header:Object(r.jsx)(fe,{className:"d-flex flex-column justify-content-around",withoutSubtitle:!0,children:Object(r.jsx)(he,{children:Object(r.jsx)(be,{children:"Results"})})}),children:Object(r.jsx)("div",{className:"d-flex flex-column",children:x.msg.payload.choices.map((function(e,t){var n,a,i;return Object(r.jsxs)(Oe,{children:[Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[Object(r.jsx)(ve,{children:Object(D.b)(e,"choice")}),Object(r.jsxs)(ve,{children:[Object(h.c)(null===(n=$.results.totalBalances)||void 0===n?void 0:n[t]),Object(D.b)(_e.symbol,"symbol")]}),Object(r.jsx)(ve,{children:$.results.totalVotesBalances?"".concat((100/$.results.totalVotesBalances*(null===(a=$.results.totalBalances)||void 0===a?void 0:a[t])).toFixed(2),"%"):0})]}),Object(r.jsx)(we,{className:"progress progress-xs w-100",children:Object(r.jsx)(ke,{role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat($.results.totalVotesBalances?Number.parseInt(100/$.results.totalVotesBalances*(null===(i=$.results.totalBalances)||void 0===i?void 0:i[t])):"0","%")}})})]})}))})})]})]})})}),x&&Object(r.jsxs)(f.a,{show:M,centered:!0,onHide:function(){return z(!1)},children:[Object(r.jsx)(f.a.Header,{closeButton:!0,children:Object(r.jsx)(f.a.Title,{children:"Confirm Vote"})}),Object(r.jsxs)(f.a.Body,{children:[Object(r.jsxs)("p",{children:['Are you sure you want to vote "',x.msg.payload.choices[N-1],'"? ',Object(r.jsx)("br",{}),"This action ",Object(r.jsx)("b",{children:"cannot"})," be undone."]}),Object(r.jsxs)("div",{className:"pt-4 d-flex align-items-center justify-content-end",children:[Object(r.jsx)(b.a,{variant:"outline-danger",onClick:function(){return z(!1)},children:"Close"}),Object(r.jsx)(b.a,{variant:"primary",onClick:Me,className:"ml-3",children:"Vote"})]})]})]})]})}}}]);
//# sourceMappingURL=45.59469eb2.chunk.js.map