{"version":3,"sources":["components/Card/index.js","lib/strategies/balancer/index.js","lib/strategies/contract-call/index.js","lib/strategies/erc20-balance-of/index.js","lib/strategies/erc20-balance-of-coeff/index.js","lib/strategies/erc20-balance-of-fixed-total/index.js","lib/strategies/erc20-balance-of-cv/index.js","lib/strategies/erc20-with-balance/index.js","lib/plugins/index.js","lib/strategies/erc20-balance-of-delegation/index.js","lib/strategies/eth-balance/index.js","lib/strategies/maker-ds-chief/index.js","lib/strategies/uni/index.js","lib/strategies/yearn-vault/index.js","lib/strategies/moloch/index.js","lib/strategies/uniswap/index.js","lib/strategies/pancake/index.js","lib/strategies/synthetix/index.js","lib/strategies/ctoken/index.js","lib/strategies/cream/index.js","lib/strategies/esd/index.js","lib/strategies/staked-uniswap/index.js","lib/strategies/index.js","lib/utils.js","components/ListItem/index.js","components/VoteItem/index.js","components/VoteLogo/index.js","pages/Vote/index.js"],"names":["Header","Card","Body","CustomCard","styled","theme","modalBG","margin","marginBottom","marginTop","RCard","CustomHeader","isTable","CustomBody","CustomTitle","h4","ResponsiveCard","props","header","title","children","body","Comp","BALANCER_SUBGRAPH_URL","space","network","provider","addresses","options","snapshot","a","params","poolShares","__args","where","userAddress_in","map","address","toLowerCase","balance_gt","first","orderBy","orderDirection","userAddress","id","balance","poolId","totalShares","tokens","block","number","subgraphRequest","result","score","forEach","poolShare","poolToken","split","getAddress","getArgs","args","arg","replace","blockTag","multicall","methodABI","name","response","Object","fromEntries","value","i","parseFloat","formatUnits","toString","decimals","abi","constant","inputs","internalType","type","outputs","payable","stateMutability","strategy","erc20BalanceOfStrategy","entries","coeff","totalScore","values","reduce","b","total","Math","sqrt","minBalance","getDelegations","delegations","delegate_in","delegator_not_in","space_in","delegator","delegate","SNAPSHOT_SUBGRAPH_URL","delegationsReverse","delegation","filter","keys","length","console","debug","concat","MULTICALL","MAKER_DS_CHIEF_ADDRESS","UNI_ADDRESS","Promise","all","pricePerFullShare","memberAddresses","addr","shares","UNISWAP_SUBGRAPH_URL","_space","users","id_in","liquidityPositions","liquidityTokenBalance_gt","liquidityTokenBalance","pair","token0","reserve0","token1","reserve1","totalSupply","tokenAddress","u","lp","token0perUni","token1perUni","userScore","sousChefabi","masterChefAbi","masterChefContractAddress","masterBalances","chefAddresses","item","sousBalances","index","prev","cur","idx","amount","synthetixStateAbi","synthetixStateContractAddress","_","quadraticWeighting","scaledValue","initialDebtOwnership","offsetCheck","getBlockNumber","oldBlockTag","balanceOfCalls","borrowBalanceCalls","calls","balancesOldResponse","balancesNowResponse","slice","borrowsNowResponse","resultData","noBorrow","borrowingRestricted","localeCompare","balanceNow","balanceOld","min","CREAM_SWAP_SUBGRAPH_URL","1","3","longTermPoolABI","creamAddress","creamSwapScore","creamBalanceOf","creamBalance","userBalance","numPool","pools","numAddress","push","balances","sum","j","daoQuery","dao","lpQuery","rewards","token","uniswap","uniswapESD","uniswapTotalSupply","daoBalances","lpBalances","Array","fill","div","mul","add","tokenAbi","uniswapAddress","stakingAddress","res","tokenBalanceInUni","tokensPerUni","balancer","erc20BalanceOf","uni","moloch","pancake","synthetix","ctoken","cream","esd","wanchain","itf","Interface","multi","getContract","multicallAbi","aggregate","call","encodeFunctionData","decodeFunctionResult","reject","url","query","fetch","method","headers","Accept","JSON","stringify","jsonToGraphQLQuery","json","data","getScores","strategies","_strategies","_numeral","format","numeral","formatProposal","base","proposal","parse","msg","input","fallback","err","jsonParse","version","payload","start","end","bpt_voting_disabled","metadata","formatProposals","proposals","Wrapper","InfoDesc","span","listItem","className","ModifiedJazzicon","Jazzicon","tr","bg2","Text","Address","voteItem","vote","symbol","Logo","img","size","VoteLogo","LogoURL","useLogo","symbolIndex","src","md","Remarkable","StyledLinkButton","button","VoteCard","CardHeader","withoutSubtitle","BoxTitle","BoxSubTitle","BoxHeader","VoteContent","TokenValue","AuthorLink","primary1","InfoText","fontWeight","ResultRow","ResultTitle","ResultProgress","ResultProgressBar","primary","Table","table","Thead","thead","Vote","useWeb3React","account","library","useState","selectedProposal","setSelectedProposal","selectedVote","setSelectedVote","showModal","setShowModal","showMore","setShowMore","votes","setVotes","setResult","status","setStatus","dispatch","useDispatch","useSelector","state","governance","spaces","governanceLoading","loading","api","Governance","match","useEffect","fetchSpaces","hasOwnProperty","fetchProposals","get","then","catch","error","log","history","transformVotes","selectedProposals","assign","scores","transformed","sort","results","totalVotes","choices","choice","totalBalances","totalScores","sI","totalVotesBalances","ts","Date","now","toFixed","handleSubmit","useCallback","timestamp","toast","icon","signer","getSigner","signMessage","sig","sendMessage","success","Page","morePadding","Row","Col","xs","style","Loading","color","width","height","active","whiteSpace","dangerouslySetInnerHTML","__html","render","option","onClick","bind","disabled","maxHeight","opacity","visibility","VoteItem","ListItem","s","marginLeft","href","target","rel","authorIpfsHash","moment","shorten","role","aria-valuenow","aria-valuemin","aria-valuemax","Number","parseInt","Modal","show","centered","onHide","closeButton","Title","Button","variant"],"mappings":"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","file":"static/js/45.59469eb2.chunk.js","sourcesContent":["import { Card } from 'react-bootstrap';\nimport styled from 'styled-components';\n\nconst { Header, Body } = Card;\n\nexport const CustomCard = styled(Card)`\n  background-color: ${({ theme }) => theme.modalBG };\n  color: white;\n  margin-bottom: ${({margin, marginBottom}) => marginBottom ? `${marginBottom}px` : margin ? `${margin}px` : '20px'};\n  margin-top:  ${({margin, marginTop}) => marginTop ? `${marginTop}px` : margin ? `${margin}px` : '0'};;\n  border-radius: 18px;\n`\n\nexport const RCard = styled(CustomCard)`\n  @media (max-width: 767px) {\n      margin-left: -30px;\n      margin-right: -30px;\n      border-radius: 0;\n      \n      .card-body {\n        padding-left: 30px;\n        padding-right: 30px;\n      }\n  }\n \n`\n\nexport const CustomHeader = styled(Header)`\n  border-bottom-color: rgba(255, 255, 255, 0.5);\n  background-color: transparent;\n  padding: 20px;\n  \n  \n  @media (min-width: 768px) {\n  padding: ${({ isTable }) => isTable ? '30px 60px' : '30px'};\n  }\n`\n\nexport const CustomBody = styled(Body)`\n  padding: 20px;\n  background-color: transparent;\n  \n  \n  @media (min-width: 768px) {\n  padding: ${({ isTable }) => isTable ? '18px 48px' : '30px'};\n  }\n`\n\nexport const CustomTitle = styled.h4`\n    margin: 0;\n    font-weight: bold;\n    color: white;\n    font-size: 1.25rem;\n`\n\nconst Comp = props => {\n    return (\n        <CustomCard {...props}>\n            {props.header && (\n                <CustomHeader isTable={props.isTable}>\n                    {props.title && (\n                        <CustomTitle>{props.title}</CustomTitle>\n                    )}\n                    {props.header}\n                </CustomHeader>\n            )}\n            <CustomBody isTable={props.isTable}>\n                {props.children || props.body}\n            </CustomBody>\n        </CustomCard>\n    )\n}\nexport const ResponsiveCard = props => {\n    return (\n        <RCard {...props}>\n            {props.header && (\n                <CustomHeader isTable={props.isTable}>\n                    {props.title && (\n                        <CustomTitle>{props.title}</CustomTitle>\n                    )}\n                    {props.header}\n                </CustomHeader>\n            )}\n            <CustomBody isTable={props.isTable}>\n                {props.children || props.body}\n            </CustomBody>\n        </RCard>\n    )\n}\n\nexport default Comp;\n","import { getAddress } from '@ethersproject/address';\nimport { subgraphRequest } from '../../utils';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nconst BALANCER_SUBGRAPH_URL = {\n  '1': 'https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-beta',\n  '42': 'https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-kovan'\n};\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const params = {\n    poolShares: {\n      __args: {\n        where: {\n          userAddress_in: addresses.map((address) => address.toLowerCase()),\n          balance_gt: 0\n        },\n        first: 1000,\n        orderBy: 'balance',\n        orderDirection: 'desc'\n      },\n      userAddress: {\n        id: true\n      },\n      balance: true,\n      poolId: {\n        totalShares: true,\n        tokens: {\n          id: true,\n          balance: true\n        }\n      }\n    }\n  };\n  if (snapshot !== 'latest') {\n    // @ts-ignore\n    params.poolShares.__args.block = { number: snapshot };\n  }\n  const result = await subgraphRequest(BALANCER_SUBGRAPH_URL[network], params);\n  const score = {};\n  if (result && result.poolShares) {\n    result.poolShares.forEach((poolShare) =>\n      poolShare.poolId.tokens.map((poolToken) => {\n        const [, tokenAddress] = poolToken.id.split('-');\n        if (tokenAddress === options.address.toLowerCase()) {\n          const userAddress = getAddress(poolShare.userAddress.id);\n          if (!score[userAddress]) score[userAddress] = 0;\n          score[userAddress] =\n            score[userAddress] +\n            (poolToken.balance / poolShare.poolId.totalShares) *\n              poolShare.balance;\n        }\n      })\n    );\n  }\n  return score || {};\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'in19farkt';\nexport const version = '0.1.0';\n\nfunction getArgs(options, address) {\n  const args = options.args || ['%{address}'];\n  return args.map((arg) =>\n    typeof arg === 'string' ? arg.replace(/%{address}/g, address) : arg\n  );\n}\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const response = await multicall(\n    network,\n    provider,\n    [options.methodABI],\n    addresses.map((address) => [\n      options.address,\n      options.methodABI.name,\n      getArgs(options, address)\n    ]),\n    { blockTag }\n  );\n  return Object.fromEntries(\n    response.map((value, i) => [\n      addresses[i],\n      parseFloat(formatUnits(value.toString(), options.decimals))\n    ])\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nconst abi = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'balanceOf',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const response = await multicall(\n    network,\n    provider,\n    abi,\n    addresses.map((address) => [options.address, 'balanceOf', [address]]),\n    { blockTag }\n  );\n  return Object.fromEntries(\n    response.map((value, i) => [\n      addresses[i],\n      parseFloat(formatUnits(value.toString(), options.decimals))\n    ])\n  );\n}\n","import { strategy as erc20BalanceOfStrategy } from '../erc20-balance-of/index';\n\nexport const author = 'jxde';\nexport const version = '0.1.0';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const score = await erc20BalanceOfStrategy(\n    space,\n    network,\n    provider,\n    addresses,\n    options,\n    snapshot\n  );\n  return Object.fromEntries(\n    Object.entries(score).map((address) => [\n      address[0],\n      address[1] * options.coeff\n    ])\n  );\n}\n","import { strategy as erc20BalanceOfStrategy } from '../erc20-balance-of/index';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const score = await erc20BalanceOfStrategy(\n    space,\n    network,\n    provider,\n    addresses,\n    options,\n    snapshot\n  );\n  const totalScore = Object.values(score).reduce((a, b) => a + b, 0);\n  return Object.fromEntries(\n    Object.entries(score).map((address) => [\n      address[0],\n      (options.total * address[1]) / totalScore\n    ])\n  );\n}\n","import { strategy as erc20BalanceOfStrategy } from '../erc20-balance-of/index';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const score = await erc20BalanceOfStrategy(\n    space,\n    network,\n    provider,\n    addresses,\n    options,\n    snapshot\n  );\n  return Object.fromEntries(\n    Object.entries(score).map((address) => [address[0], Math.sqrt(address[1])])\n  );\n}\n","import { strategy as erc20BalanceOfStrategy } from '../erc20-balance-of/index';\n\nexport const author = 'BenjaminLu';\nexport const version = '0.1.1';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const score = await erc20BalanceOfStrategy(\n    space,\n    network,\n    provider,\n    addresses,\n    options,\n    snapshot\n  );\n  return Object.fromEntries(\n    Object.entries(score).map((address) => [\n      address[0],\n      address[1] > (options.minBalance || 0) ? 1 : 0\n    ])\n  );\n}\n","import { SNAPSHOT_SUBGRAPH_URL, subgraphRequest } from '../utils';\n\nexport async function getDelegations(\n    space,\n    network,\n    provider,\n    addresses,\n    options,\n    snapshot\n) {\n    const params = {\n        delegations: {\n            __args: {\n                where: {\n                    delegate_in: addresses.map((address) => address.toLowerCase()),\n                    delegator_not_in: addresses.map((address) => address.toLowerCase()),\n                    space_in: ['', space]\n                },\n                first: 1000\n            },\n            delegator: true,\n            space: true,\n            delegate: true\n        }\n    };\n    if (snapshot !== 'latest') {\n        // @ts-ignore\n        params.delegations.__args.block = { number: snapshot };\n    }\n    const result = await subgraphRequest(SNAPSHOT_SUBGRAPH_URL[network], params);\n    if (!result || !result.delegations) return {};\n\n    const delegationsReverse = {};\n    result.delegations.forEach(\n        (delegation) =>\n            (delegationsReverse[delegation.delegator] = delegation.delegate)\n    );\n    result.delegations\n        .filter((delegation) => delegation.space !== '')\n        .forEach(\n            (delegation) =>\n                (delegationsReverse[delegation.delegator] = delegation.delegate)\n        );\n\n    return Object.fromEntries(\n        addresses.map((address) => [\n            address,\n            Object.entries(delegationsReverse)\n                .filter(([, delegate]) => address.toLowerCase() === delegate)\n                .map(([delegator]) => delegator)\n        ])\n    );\n}\n","import { strategy as erc20BalanceOfStrategy } from '../erc20-balance-of/index';\nimport { getDelegations } from '../../plugins';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const delegations = await getDelegations(\n    space,\n    network,\n    provider,\n    addresses,\n    options,\n    snapshot\n  );\n  if (Object.keys(delegations).length === 0) return {};\n  console.debug('Delegations', delegations);\n\n  const score = await erc20BalanceOfStrategy(\n    space,\n    network,\n    provider,\n    Object.values(delegations).reduce((a, b) =>\n      a.concat(b)\n    ),\n    options,\n    snapshot\n  );\n  console.debug('Delegators score', score);\n\n  return Object.fromEntries(\n    addresses.map((address) => {\n      const addressScore = delegations[address]\n        ? delegations[address].reduce((a, b) => a + score[b], 0)\n        : 0;\n      return [address, addressScore];\n    })\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall, MULTICALL } from '../../utils';\nimport { abi } from '../../../constants/abis/Multicall.json';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const response = await multicall(\n    network,\n    provider,\n    abi,\n    addresses.map((address) => [\n      MULTICALL[network],\n      'getEthBalance',\n      [address]\n    ]),\n    { blockTag }\n  );\n  return Object.fromEntries(\n    response.map((value, i) => [\n      addresses[i],\n      parseFloat(formatUnits(value.toString(), 18))\n    ])\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nconst MAKER_DS_CHIEF_ADDRESS = {\n  '1': '0x9ef05f7f6deb616fd37ac3c959a2ddd25a54e4f5'\n};\n\nconst abi = [\n  {\n    constant: true,\n    inputs: [\n      {\n        name: '',\n        type: 'address'\n      }\n    ],\n    name: 'deposits',\n    outputs: [\n      {\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const response = await multicall(\n    network,\n    provider,\n    abi,\n    addresses.map((address) => [\n      MAKER_DS_CHIEF_ADDRESS[network],\n      'deposits',\n      [address]\n    ]),\n    { blockTag }\n  );\n  return Object.fromEntries(\n    response.map((value, i) => [\n      addresses[i],\n      parseFloat(formatUnits(value.toString(), options.decimals))\n    ])\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nconst UNI_ADDRESS = {\n  '1': '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984'\n};\n\nconst abi = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'getCurrentVotes',\n    outputs: [\n      {\n        internalType: 'uint96',\n        name: '',\n        type: 'uint96'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const response = await multicall(\n    network,\n    provider,\n    abi,\n    addresses.map((address) => [\n      UNI_ADDRESS[network],\n      'getCurrentVotes',\n      [address.toLowerCase()],\n      { blockTag }\n    ])\n  );\n  return Object.fromEntries(\n    response.map((value, i) => [\n      addresses[i],\n      parseFloat(formatUnits(value.toString(), options.decimals))\n    ])\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\nimport { strategy as erc20BalanceOfStrategy } from '../erc20-balance-of/index';\n\nexport const author = 'bonustrack';\nexport const version = '0.1.0';\n\nconst abi = [\n  {\n    constant: true,\n    inputs: [],\n    name: 'getPricePerFullShare',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  let [score, [pricePerFullShare]] = await Promise.all([\n    erc20BalanceOfStrategy(\n      space,\n      network,\n      provider,\n      addresses,\n      options,\n      snapshot\n    ),\n    multicall(\n      network,\n      provider,\n      abi,\n      [[options.address, 'getPricePerFullShare', []]],\n      { blockTag }\n    )\n  ]);\n  pricePerFullShare = parseFloat(formatUnits(pricePerFullShare.toString(), 18));\n  return Object.fromEntries(\n    Object.entries(score).map((address) => [\n      address[0],\n      address[1] * pricePerFullShare\n    ])\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'adridadou';\nexport const version = '0.1.0';\n\nconst abi = [\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    name: 'memberAddressByDelegateKey',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    name: 'members',\n    outputs: [\n      {\n        internalType: 'address',\n        name: 'delegateKey',\n        type: 'address'\n      },\n      {\n        internalType: 'uint256',\n        name: 'shares',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'loot',\n        type: 'uint256'\n      },\n      {\n        internalType: 'bool',\n        name: 'exists',\n        type: 'bool'\n      },\n      {\n        internalType: 'uint256',\n        name: 'highestIndexYesVote',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'jailed',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'totalShares',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const memberAddresses = await multicall(\n    network,\n    provider,\n    abi,\n    addresses.map((address) => [\n      options.address,\n      'memberAddressByDelegateKey',\n      [address]\n    ]),\n    { blockTag }\n  );\n\n  const response = await multicall(\n    network,\n    provider,\n    abi,\n    memberAddresses\n      .filter(\n        (addr) =>\n          addr.toString() !== '0x0000000000000000000000000000000000000000'\n      )\n      .map((addr) => [options.address, 'members', [addr.toString()]]),\n    { blockTag }\n  );\n\n  return Object.fromEntries(\n    response.map((value, i) => [\n      addresses[i],\n      parseFloat(formatUnits(value.shares.toString(), options.decimals))\n    ])\n  );\n}\n","import { getAddress } from '@ethersproject/address';\nimport { subgraphRequest } from '../../utils';\n\nconst UNISWAP_SUBGRAPH_URL = {\n  '1': 'https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2'\n};\n\nexport const author = 'vfatouros';\nexport const version = '0.1.0';\n\nexport async function strategy(\n  _space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const params = {\n    users: {\n      __args: {\n        where: {\n          id_in: addresses.map((address) => address.toLowerCase())\n        },\n        first: 1000\n      },\n      id: true,\n      liquidityPositions: {\n        __args: {\n          where: {\n            liquidityTokenBalance_gt: 0\n          }\n        },\n        liquidityTokenBalance: true,\n        pair: {\n          id: true,\n          token0: {\n            id: true\n          },\n          reserve0: true,\n          token1: {\n            id: true\n          },\n          reserve1: true,\n          totalSupply: true\n        }\n      }\n    }\n  };\n  if (snapshot !== 'latest') {\n    // @ts-ignore\n    params.users.liquidityPositions.__args.block = { number: snapshot };\n  }\n  const tokenAddress = options.address.toLowerCase();\n  const result = await subgraphRequest(UNISWAP_SUBGRAPH_URL[network], params);\n  const score = {};\n  if (result && result.users) {\n    result.users.forEach((u) => {\n      u.liquidityPositions\n        .filter(\n          (lp) =>\n            lp.pair.token0.id == tokenAddress ||\n            lp.pair.token1.id == tokenAddress\n        )\n        .forEach((lp) => {\n          const token0perUni = lp.pair.reserve0 / lp.pair.totalSupply;\n          const token1perUni = lp.pair.reserve1 / lp.pair.totalSupply;\n          const userScore =\n            lp.pair.token0.id == tokenAddress\n              ? token0perUni * lp.liquidityTokenBalance\n              : token1perUni * lp.liquidityTokenBalance;\n\n          const userAddress = getAddress(u.id);\n          if (!score[userAddress]) score[userAddress] = 0;\n          score[userAddress] = score[userAddress] + userScore;\n        });\n    });\n  }\n  return score || {};\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\nimport { strategy as erc20BalanceOfStrategy } from '../erc20-balance-of/index';\n\nexport const author = 'pancake-swap';\nexport const version = '0.0.1';\n\nconst sousChefabi = [\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    name: 'userInfo',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nconst masterChefAbi = [\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      },\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address'\n      }\n    ],\n    name: 'userInfo',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      },\n      {\n        internalType: 'uint256',\n        name: 'rewardDebt',\n        type: 'uint256'\n      }\n    ],\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nconst masterChefContractAddress = '0x73feaa1eE314F8c655E354234017bE2193C9E24E';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const score = await erc20BalanceOfStrategy(\n    space,\n    network,\n    provider,\n    addresses,\n    options,\n    snapshot\n  );\n\n  const masterBalances = await multicall(\n    network,\n    provider,\n    masterChefAbi,\n    addresses.map((address) => [\n      masterChefContractAddress,\n      'userInfo',\n      ['0', address]\n    ]),\n    { blockTag }\n  );\n\n  const sousBalances = await Promise.all(\n    options.chefAddresses.map((item) =>\n      multicall(\n        network,\n        provider,\n        sousChefabi,\n        addresses.map((address) => [\n          item.address,\n          'userInfo',\n          [address],\n          { blockTag }\n        ]),\n        { blockTag }\n      )\n    )\n  );\n\n  return Object.fromEntries(\n    Object.entries(score).map((address, index) => [\n      address[0],\n      address[1] +\n        masterBalances.reduce(\n          (prev, cur, idx) =>\n            prev + parseFloat(formatUnits(cur.amount.toString(), 18)),\n          0\n        ) +\n        sousBalances.reduce(\n          (prev, cur, idx) =>\n            prev +\n            parseFloat(\n              formatUnits(\n                cur[index].amount.toString(),\n                options.chefAddresses[idx].decimals\n              )\n            ),\n          0\n        )\n    ])\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'andytcf';\nexport const version = '0.0.1';\n\nconst synthetixStateAbi = [\n  {\n    constant: true,\n    inputs: [{ name: '', type: 'address' }],\n    name: 'issuanceData',\n    outputs: [\n      { name: 'initialDebtOwnership', type: 'uint256' },\n      { name: 'debtEntryIndex', type: 'uint256' }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nconst synthetixStateContractAddress =\n  '0x4b9Ca5607f1fF8019c1C6A3c2f0CC8de622D5B82';\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  _,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const response = await multicall(\n    network,\n    provider,\n    synthetixStateAbi,\n    addresses.map((address) => [\n      synthetixStateContractAddress,\n      'issuanceData',\n      [address]\n    ]),\n    { blockTag }\n  );\n\n  const quadraticWeighting = (value) => {\n    // Scale the value by 100000\n    const scaledValue = value * 1e5;\n    return Math.sqrt(scaledValue);\n  };\n  return Object.fromEntries(\n    response.map((value, i) => {\n      return [\n        addresses[i],\n        // initialDebtOwnership returns in 27 decimal places\n        quadraticWeighting(\n          parseFloat(formatUnits(value.initialDebtOwnership.toString(), 27))\n        )\n      ];\n    })\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'arr00';\nexport const version = '0.1.0';\n\nconst abi = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'balanceOf',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'borrowBalanceStored',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const oldBlockTag =\n    typeof snapshot === 'number'\n      ? snapshot - options.offsetCheck\n      : (await provider.getBlockNumber()) - options.offsetCheck;\n\n  let balanceOfCalls = addresses.map((address) => [\n    options.address,\n    'balanceOf',\n    [address]\n  ]);\n  let borrowBalanceCalls = addresses.map((address) => [\n    options.address,\n    'borrowBalanceStored',\n    [address]\n  ]);\n  let calls = balanceOfCalls.concat(borrowBalanceCalls);\n\n  const [response, balancesOldResponse] = await Promise.all([\n    multicall(network, provider, abi, calls, { blockTag }),\n    multicall(\n      network,\n      provider,\n      abi,\n      addresses.map((address) => [\n        options.address,\n        'balanceOf',\n        [address]\n      ]),\n      { blockTag: oldBlockTag }\n    )\n  ]);\n\n  const balancesNowResponse = response.slice(0, addresses.length);\n  const borrowsNowResponse = response.slice(addresses.length);\n\n  let resultData = {};\n  for (let i = 0; i < balancesNowResponse.length; i++) {\n    let noBorrow = 1;\n    if (options.borrowingRestricted) {\n      noBorrow =\n        borrowsNowResponse[i].toString().localeCompare('0') == 0 ? 1 : 0;\n    }\n    const balanceNow = parseFloat(\n      formatUnits(balancesNowResponse[i].toString(), options.decimals)\n    );\n    const balanceOld = parseFloat(\n      formatUnits(balancesOldResponse[i].toString(), options.decimals)\n    );\n    resultData[addresses[i]] = Math.min(balanceNow, balanceOld) * noBorrow;\n  }\n  return resultData;\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { getAddress } from '@ethersproject/address';\nimport { subgraphRequest, multicall } from '../../utils';\n\nexport const author = 'bun919tw';\nexport const version = '0.1.0';\n\nconst CREAM_SWAP_SUBGRAPH_URL = {\n  1: 'https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-v2',\n  3: 'https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-dev'\n};\n\nconst longTermPoolABI = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'balanceOf',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const creamAddress = options.address;\n  let [score, creamBalance] = await Promise.all([\n    creamSwapScore(network, addresses, creamAddress, snapshot),\n    creamBalanceOf(network, provider, addresses, options, snapshot)\n  ]);\n  for (const [userAddress, userBalance] of Object.entries(creamBalance)) {\n    if (!score[userAddress]) score[userAddress] = 0;\n    score[userAddress] = score[userAddress] + userBalance;\n  }\n\n  return score || {};\n}\n\nasync function creamSwapScore(network, addresses, creamAddress, snapshot) {\n  const params = {\n    poolShares: {\n      __args: {\n        where: {\n          userAddress_in: addresses.map((address) => address.toLowerCase()),\n          balance_gt: 0\n        },\n        first: 1000,\n        orderBy: 'balance',\n        orderDirection: 'desc'\n      },\n      userAddress: {\n        id: true\n      },\n      balance: true,\n      poolId: {\n        totalShares: true,\n        tokens: {\n          id: true,\n          balance: true\n        }\n      }\n    }\n  };\n  if (snapshot !== 'latest') {\n    // @ts-ignore\n    params.poolShares.__args.block = { number: snapshot };\n  }\n  const result = await subgraphRequest(\n    CREAM_SWAP_SUBGRAPH_URL[network],\n    params\n  );\n  const score = {};\n  if (result && result.poolShares) {\n    result.poolShares.forEach((poolShare) =>\n      poolShare.poolId.tokens.map((poolToken) => {\n        const [, tokenAddress] = poolToken.id.split('-');\n        if (typeof creamAddress === 'string' && tokenAddress === creamAddress.toLowerCase()) {\n          const userAddress = getAddress(poolShare.userAddress.id);\n          if (!score[userAddress]) score[userAddress] = 0;\n          score[userAddress] =\n            score[userAddress] +\n            (poolToken.balance / poolShare.poolId.totalShares) *\n              poolShare.balance;\n        }\n      })\n    );\n  }\n  return score || {};\n}\n\nasync function creamBalanceOf(network, provider, addresses, options, snapshot) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const numPool = options.pools.length;\n  const numAddress = addresses.length;\n\n  const calls = [];\n  for (let i = 0; i < numPool; i++) {\n    calls.push(\n      ...addresses.map((address) => [\n        options.pools[i].address,\n        'balanceOf',\n        [address]\n      ])\n    );\n  }\n\n  const balances = await multicall(network, provider, longTermPoolABI, calls, {\n    blockTag\n  });\n\n  return Object.fromEntries(\n    addresses.map((address, i) => {\n      let sum = 0;\n      for (let j = 0; j < numPool; j++) {\n        sum += parseFloat(\n          formatUnits(balances[i + j * numAddress].toString(), 18)\n        );\n      }\n      return [address, sum];\n    })\n  );\n}\n","import { formatUnits } from '@ethersproject/units';\nimport { multicall } from '../../utils';\n\nexport const author = 'l3wi';\nexport const version = '0.1.0';\n\nconst abi = [\n  {\n    constant: true,\n    inputs: [{ internalType: 'address', name: 'account', type: 'address' }],\n    name: 'balanceOfBonded',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'address', name: '', type: 'address' }],\n    name: 'balanceOf',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'totalSupply',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n\n  const daoQuery = addresses.map((address) => [\n    options.dao,\n    'balanceOfBonded',\n    [address]\n  ]);\n\n  const lpQuery = addresses.map((address) => [\n    options.rewards,\n    'balanceOfBonded',\n    [address]\n  ]);\n\n  const response = await multicall(\n    network,\n    provider,\n    abi,\n    [\n      [options.token, 'balanceOf', [options.uniswap]],\n      [options.uniswap, 'totalSupply'],\n      ...daoQuery,\n      ...lpQuery\n    ],\n    { blockTag }\n  );\n\n  const uniswapESD = response[0];\n  const uniswapTotalSupply = response[1];\n  const daoBalances = response.slice(2, addresses.length + 2);\n  const lpBalances = response.slice(\n    addresses.length + 2,\n    addresses.length * 2 + 2\n  );\n\n  return Object.fromEntries(\n    Array(addresses.length)\n      .fill('x')\n      .map((_, i) => [\n        addresses[i],\n        parseFloat(\n          formatUnits(\n            uniswapESD[0]\n              .div(uniswapTotalSupply[0])\n              .mul(lpBalances[i][0])\n              .add(daoBalances[i][0])\n              .toString(),\n            options.decimals\n          )\n        )\n      ])\n  );\n}\n","import { multicall } from '../../utils';\n\nexport const author = 'vfatouros';\nexport const version = '0.1.0';\n\nconst tokenAbi = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'account',\n        type: 'address'\n      }\n    ],\n    name: 'balanceOf',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'totalSupply',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n\nexport async function strategy(\n  _space,\n  network,\n  provider,\n  addresses,\n  options,\n  snapshot\n) {\n  const blockTag = typeof snapshot === 'number' ? snapshot : 'latest';\n  const res = await multicall(\n    network,\n    provider,\n    tokenAbi,\n    [\n      [options.uniswapAddress, 'totalSupply', []],\n      [options.tokenAddress, 'balanceOf', [options.uniswapAddress]]\n    ].concat(\n      addresses.map((address) => [\n        options.stakingAddress,\n        'balanceOf',\n        [address]\n      ])\n    ),\n    { blockTag }\n  );\n\n  const totalSupply = res[0];\n  const tokenBalanceInUni = res[1];\n  const tokensPerUni =\n    tokenBalanceInUni / 10 ** options.decimals / (totalSupply / 1e18);\n\n  const response = res.slice(2);\n\n  return Object.fromEntries(\n    response.map((value, i) => [\n      addresses[i],\n      (value / 10 ** options.decimals) * tokensPerUni\n    ])\n  );\n}\n","import { strategy as balancer } from './balancer/index';\nimport { strategy as contractCall } from './contract-call/index';\nimport { strategy as erc20BalanceOf } from './erc20-balance-of/index';\nimport { strategy as erc20BalanceOfCoeff } from './erc20-balance-of-coeff/index';\nimport { strategy as erc20BalanceOfFixedTotal } from './erc20-balance-of-fixed-total/index';\nimport { strategy as erc20BalanceOfCv } from './erc20-balance-of-cv/index';\nimport { strategy as erc20WithBalance } from './erc20-with-balance/index';\nimport { strategy as erc20BalanceOfDelegation } from './erc20-balance-of-delegation/index';\nimport { strategy as ethBalance } from './eth-balance/index';\nimport { strategy as makerDsChief } from './maker-ds-chief/index';\nimport { strategy as uni } from './uni/index';\nimport { strategy as yearnVault } from './yearn-vault/index';\nimport { strategy as moloch } from './moloch/index';\nimport { strategy as uniswap } from './uniswap/index';\nimport { strategy as pancake } from './pancake/index';\nimport { strategy as synthetix } from './synthetix/index';\nimport { strategy as ctoken } from './ctoken/index';\nimport { strategy as cream } from './cream/index';\nimport { strategy as esd } from './esd/index';\nimport { strategy as stakedUniswap } from './staked-uniswap/index';\n\nexport default {\n  balancer,\n  'contract-call': contractCall,\n  'erc20-balance-of': erc20BalanceOf,\n  'erc20-balance-of-fixed-total': erc20BalanceOfFixedTotal,\n  'erc20-balance-of-cv': erc20BalanceOfCv,\n  'erc20-balance-of-coeff': erc20BalanceOfCoeff,\n  'erc20-with-balance': erc20WithBalance,\n  'erc20-balance-of-delegation': erc20BalanceOfDelegation,\n  'eth-balance': ethBalance,\n  'maker-ds-chief': makerDsChief,\n  uni,\n  'yearn-vault': yearnVault,\n  moloch,\n  uniswap,\n  pancake,\n  synthetix,\n  ctoken,\n  cream,\n  'staked-uniswap': stakedUniswap,\n  esd\n};\n","import { Interface } from '@ethersproject/abi';\nimport { Contract } from '@ethersproject/contracts';\nimport numeral from 'numeral'\nimport { jsonToGraphQLQuery } from 'json-to-graphql-query';\nimport { abi as multicallAbi } from '../constants/abis/Multicall.json';\nimport _strategies from './strategies';\nimport {getContract} from \"../utils\";\n\nexport const MULTICALL = {\n    '1': '0xeefba1e63905ef1d7acba5a8513c70307c1ce441',\n    '4': '0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821',\n    '5': '0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e',\n    '6': '0x53c43764255c17bd724f74c4ef150724ac50a3ed',\n    '42': '0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a',\n    '56': '0x1ee38d535d541c55c9dae27b12edf090c608e6fb',\n    '82': '0x579De77CAEd0614e3b158cb738fcD5131B9719Ae',\n    '97': '0x8b54247c6BAe96A6ccAFa468ebae96c4D7445e46',\n    '100': '0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a',\n    wanchain: '0xba5934ab3056fca1fa458d30fbb3810c3eb5145f'\n};\n\nexport const SNAPSHOT_SUBGRAPH_URL = {\n    '1': 'https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot',\n    '4': 'https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-rinkeby',\n    '42': 'https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-kovan'\n};\n\nexport async function call(provider, abi, call, options) {\n    const contract = new Contract(call[0], abi, provider);\n    try {\n        const params = call[2] || [];\n        return await contract[call[1]](...params, options || {});\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport async function multicall(\n    network,\n    provider,\n    abi,\n    calls,\n    options\n) {\n    const itf = new Interface(abi);\n    const multi = getContract(MULTICALL[network], multicallAbi, provider);\n    try {\n        try {\n            const [, res] = await multi.aggregate(\n                calls.map((call) => [\n                    call[0].toLowerCase(),\n                    itf.encodeFunctionData(call[1], call[2])\n                ]),\n                options || {}\n            )\n            return res.map((call, i) => itf.decodeFunctionResult(calls[i][1], call));\n        } catch(e) {\n            return [];\n        }\n\n    } catch (e) {\n        return Promise.reject(e);\n    }\n}\n\nexport async function subgraphRequest(url, query) {\n    const res = await fetch(url, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ query: jsonToGraphQLQuery({ query }) })\n    });\n    const { data } = await res.json();\n    return data || {};\n}\n\nexport async function ipfsGet(\n    gateway,\n    ipfsHash,\n    protocolType = 'ipfs'\n) {\n    const url = `https://${gateway}/${protocolType}/${ipfsHash}`;\n    return fetch(url).then((res) => res.json());\n}\n\n\nexport async function getScores(\n    space,\n    strategies,\n    network,\n    provider,\n    addresses,\n    snapshot = 'latest'\n) {\n    return await Promise.all(\n        strategies.map((strategy) =>\n            _strategies[strategy.name](\n                space,\n                network,\n                provider,\n                addresses,\n                strategy.params,\n                snapshot\n            )\n        )\n    );\n}\n\nexport function jsonParse(input, fallback) {\n    if (typeof input !== 'string') {\n        return fallback || {};\n    }\n    try {\n        return JSON.parse(input);\n    } catch (err) {\n        return fallback || {};\n    }\n}\n\nexport function _numeral(number, format = '(0.[00]a)') {\n    return numeral(number).format(format);\n}\n\nexport function formatProposal(base) {\n    const proposal = JSON.parse(JSON.stringify(base));\n    proposal.msg = jsonParse(proposal.msg, proposal.msg);\n\n    // v0.1.0\n    if (proposal.msg.version === '0.1.0') {\n        proposal.msg.payload.start = 1595088000;\n        proposal.msg.payload.end = 1595174400;\n        proposal.msg.payload.snapshot = 10484400;\n        proposal.bpt_voting_disabled = '1';\n    }\n\n    // v0.1.1\n    if (proposal.msg.version === '0.1.0' || proposal.msg.version === '0.1.1') {\n        proposal.msg.payload.metadata = {};\n    }\n\n    return proposal;\n}\n\nexport function formatProposals(proposals) {\n    return Object.fromEntries(\n        Object.entries(proposals).map(proposal => [\n            proposal[0],\n            formatProposal(proposal[1])\n        ])\n    );\n}\n\nexport default {\n    call,\n    multicall,\n    subgraphRequest,\n    ipfsGet,\n    getScores,\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  position: relative;\n  transition: .3s ease all;\n  width: 100%;\n  \n  &:not(:last-child) {\n    margin-bottom: 1.875rem;\n  }\n`\n\nconst InfoDesc = styled.span`\n  font-size: .75rem;\n  font-weight: 400;\n  margin: 0;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-size: .875rem;\n    font-weight: 500;\n\n  }\n`\n\nconst listItem = props => {\n    return (\n        <Wrapper className=\"d-flex align-items-center justify-content-between\">\n            <InfoDesc>{props.title}</InfoDesc>\n            <div>{props.children}</div>\n        </Wrapper>\n    )\n}\n\nexport default listItem;","import React from 'react';\nimport { Jazzicon } from '@ukstv/jazzicon-react';\nimport styled from 'styled-components';\nimport {_numeral} from \"../../lib/utils\";\n\nexport const ModifiedJazzicon = styled(Jazzicon)`\n    width: 24px;\n    height: 24px;\n    margin-right: 10px;\n    \n    @media (min-width: 768px) {\n        width: 32px;\n        height: 32px;\n        margin-right: 15px;\n    }\n`\nconst Wrapper = styled.tr`\n  padding: 10px 0;\n  position: relative;\n  transition: .3s ease all;\n  margin-bottom: 0.625rem;\n  \n  td {\n    height: 40px;\n    &:last-child {\n      text-align: right;\n    }\n  }\n  \n  @media (min-width: 768px) {\n      background-color: ${({ theme }) => theme.modalBG};\n      \n      td {\n        border-top: 1px solid rgba(255, 255, 255, 0.5);\n        border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n        height: 50px;\n        \n        &:first-child {\n          border-left: 1px solid rgba(255, 255, 255, 0.5);\n          border-top-left-radius: 18px;\n          border-bottom-left-radius: 18px;\n          padding-left: 30px;\n        }\n        \n        &:last-child {\n          border-right: 1px solid rgba(255, 255, 255, 0.5);\n          border-top-right-radius: 18px;\n          padding-right: 30px;\n          border-bottom-right-radius: 18px;\n          max-width: 80px;\n          text-align: left;\n        }\n      }\n      \n      \n      &:hover {\n        background-color: ${({ theme }) => theme.bg2};\n        border-color: rgba(255, 255, 255, 0.8);\n      }\n  }\n  \n`\n\nconst Text = styled.span`\n  color: white;\n  font-size: 0.875rem;\n  font-weight: 500;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n`\nconst Address = styled.span`\n  color: white;\n  font-size: 0.75rem;\n  font-weight: 400;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n`\n\nconst voteItem = props => {\n    return (\n        <Wrapper>\n            <td>\n                <div className=\"d-flex align-items-center\">\n                    <div className={'d-none d-lg-block'}>\n                        <ModifiedJazzicon address={props.address}/>\n                    </div>\n                    <Address>{props.address.slice(0, 6)}...{props.address.slice(-4)}</Address>\n                </div>\n\n            </td>\n            <td>\n                <Text className={'d-none d-lg-flex'}>{props.vote}</Text>\n            </td>\n            <td>\n                <Text>{_numeral(props.score)} {props.symbol}</Text>\n            </td>\n            {/*<div className=\"d-flex align-items-center\">*/}\n            {/*    <div className={'d-none d-lg-block'}>*/}\n            {/*        <ModifiedJazzicon address={props.address}/>*/}\n            {/*    </div>*/}\n            {/*    <Text>{props.address.slice(0, 6)}...{props.address.slice(-4)}</Text>*/}\n            {/*</div>*/}\n            {/*<Text className={'d-none d-lg-flex'}>{props.vote}</Text>*/}\n            {/*<Text>{_numeral(props.score)} {props.symbol}</Text>*/}\n        </Wrapper>\n    )\n}\n\nexport default voteItem;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport {useLogo} from \"../../state/governance/hooks\";\n\nconst Logo = styled.img`\n  width: ${({ size }) => size}px;\n  height: ${({ size }) => size}px;\n  border-radius: ${({ size }) => size}px;\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.075);\n  display: none;\n  \n  @media (min-width: 768px) {\n  display: initial;\n  }\n`\n\nconst VoteLogo = props => {\n    const LogoURL = useLogo(props.id, props.symbolIndex);\n    return (\n        <Logo src={LogoURL} size={props.size}/>\n    )\n}\n\nexport default VoteLogo;","import React, { useEffect, useState, useCallback } from 'react';\nimport { Row, Col, Modal, Button } from 'react-bootstrap';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {_numeral, formatProposal, getScores} from '../../lib/utils';\nimport styled from 'styled-components';\n\nimport ListItem from '../../components/ListItem';\nimport Governance from \"../../http/governance\";\nimport Card from \"../../components/Card\";\nimport {fetchProposals, fetchSpaces} from \"../../state/governance/actions\";\nimport VoteItem, {ModifiedJazzicon} from '../../components/VoteItem';\nimport VoteLogo from \"../../components/VoteLogo\";\nimport moment from \"moment\";\nimport Loading from '../../components/Loading';\nimport {useWeb3React} from \"@web3-react/core\";\nimport {shorten} from \"../../state/governance/hooks\";\nimport {Remarkable} from \"remarkable\";\nimport Page from \"../../components/Page\";\nimport GradientButton from '../../components/UI/Button';\nimport {toast} from \"react-hot-toast\";\n\nconst md = new Remarkable();\n\nconst StyledLinkButton = styled.button`\n  font-weight: 500;\n  font-size: 1rem;\n  \n  @media (min-width: 768px) {\n  font-weight: 400;\n  }\n`\n\nconst VoteCard = styled(Card)`\n  @media (max-width: 767px) {\n    .card-body {\n      padding-top: 0; \n    }\n  }\n`\n\nconst CardHeader = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: -5px;\n  \n  @media (min-width: 768px) {\n    margin: -10px 0 -18px;\n    height: ${({ withoutSubtitle }) => withoutSubtitle ? '70px' : 'auto'};\n  }\n`\n\nconst BoxTitle = styled.h4`\n  font-weight: 700;\n  font-size: 0.875rem;\n  line-height: 1.5rem;\n  color: white;\n  margin: 0 auto 0 0;\n  padding-right: .75rem;\n  \n  \n  @media (min-width: 768px) {\n  padding-right: 0;\n  font-size: 1.25rem;\n  margin: 0 1.25rem 0 0;\n  }\n`\n\nconst BoxSubTitle = styled.span`\n  margin-bottom: .5rem;\n  font-size: 0.875rem;\n  font-weight: 400;\n  color: white;\n  display: none;\n  \n  @media (min-width: 768px) {\n    display: block;\n  }\n`\n\nconst BoxHeader = styled.div`\n  min-height: 40px;\n  display: flex;\n  align-items: center;\n  \n  & .label {\n    @media (max-width: 767px) {\n      height: 30px;\n      padding: 5px 17px;\n      border-radius: 12px;\n      font-size: .875rem;\n    }\n  }\n \n`\n\nconst VoteContent = styled.div`\n  line-height: 19px;\n  font-size: 1rem !important;\n  color: white;\n  font-weight: 400;\n  \n  & p {\n    margin: 0;\n    font-weight: 400;\n    font-size: 0.875rem;\n\n      @media (min-width: 768px) {\n        font-size: 1rem;\n      }\n  }\n  \n  & h1,\n  & h2,\n  & h3,\n  & h4,\n  & h5,\n  & h6 {\n    font-size: 1.25rem;\n    margin-bottom: 0;\n    font-weight: 500;\n    \n    \n      @media (min-width: 768px) {\n        font-size: 1.875rem;\n      }\n  }\n`\n\nconst TokenValue = styled.span`\n  font-size: 0.875rem;\n  font-weight: 500;\n  padding-left: 11px;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n    font-weight: 700;\n  }\n`\n\nconst AuthorLink = styled.a`\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 700;\n  font-size: 0.875rem;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n  }\n  \n  &:focus,\n  &:active {\n    outline: none;\n  }\n`\nconst InfoText = styled.span`\n  font-size: 0.875rem;\n  font-weight: ${({ fontWeight}) => fontWeight || 700};\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-size: 1rem;\n    font-weight: 700;\n  }\n`\n\nconst ResultRow = styled.div`\n  display: flex;\n  flex-direction: column;\n  \n  &:not(:last-child) {\n    margin-bottom: 40px;\n  }\n`\n\nconst ResultTitle = styled.span`\n  font-size: .875rem;\n  font-weight: 400;\n  margin: 0;\n  color: white;\n  \n  \n  @media (min-width: 768px) {\n    font-weight: 500;\n  }\n`\n\nconst ResultProgress = styled.div`\n  background-color: rgba(71, 183, 254, 0.3);\n  height: 5px;\n  border: none;\n  width: 100%;\n  border-radius: 20px;\n`\n\nconst ResultProgressBar = styled.div`\n  background-color: ${({ theme }) => theme.primary};\n  border-radius: 20px;\n`\n\nconst Table = styled.table`\n  border-spacing: 0 10px;\n  border-collapse: separate;\n`\n\nconst Thead = styled.thead`\n  height: 1px;\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  display: none;\n`\n\nconst Vote = (props) => {\n    const { account, library } = useWeb3React();\n    const [selectedProposal, setSelectedProposal] = useState(false)\n    const [selectedVote, setSelectedVote] = useState(null);\n    const [showModal, setShowModal] = useState(false);\n    const [showMore, setShowMore] = useState(false);\n    const [votes, setVotes] = useState({})\n    const [result, setResult] = useState({})\n    const [status, setStatus] = useState({});\n    const dispatch = useDispatch();\n    const {spaces, loading: governanceLoading, proposals} = useSelector(state => state.governance);\n    const api = new Governance();\n\n    let id = props.match.params.space;\n    let address = props.match.params.id;\n    let space = spaces[id]\n\n    useEffect(() => {\n        if(Object.keys(spaces).length === 0) {\n            dispatch(fetchSpaces());\n        } else {\n            if(spaces.hasOwnProperty(id)) {\n                dispatch(fetchProposals(id));\n                api.get('votes', { id, address})\n                    .then(response => {\n                        setVotes(response);\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    })\n            } else {\n                props.history.push('/governance');\n            }\n        }\n    }, [spaces, id, address, dispatch, props.history])\n\n    const getVotes = () => {\n        api.get('votes', { id, address})\n            .then(response => {\n                setVotes(response);\n            })\n            .catch(error => {\n                console.log(error);\n            })\n    }\n\n    const transformVotes = async (votes, proposals) => {\n        let result = {};\n        if(Object.keys(votes).length > 0) {\n            const selectedProposals = proposals.hasOwnProperty(id) && proposals[id].hasOwnProperty(address) ? formatProposal(Object.assign({}, proposals[id][address])) : formatProposal({});\n            const scores = await getScores(\n                id,\n                space.strategies,\n                space.network,\n                library,\n                Object.keys(votes)\n            )\n            result.votes = Object.fromEntries(\n                Object.entries(votes)\n                    .map((vote) => {\n                        let transformed = [vote[0], Object.assign({}, vote[1])]\n                        transformed[1].scores = space.strategies.map(\n                            (strategy, i) => scores[i][transformed[1].address] || 0\n                        );\n                        transformed[1].balance = transformed[1].scores.reduce((a, b) => a + b, 0);\n                        return transformed;\n                    })\n                    .sort((a, b) => b[1].balance - a[1].balance)\n            );\n            result.results = {\n                totalVotes: selectedProposals.msg?.payload?.choices?.map(\n                    (choice, i) =>\n                        Object.values(result.votes).filter(\n                            (vote) => vote.msg.payload.choice === i + 1\n                        ).length\n                ),\n                totalBalances: selectedProposals.msg?.payload?.choices?.map((choice, i) =>\n                    Object.values(result.votes)\n                        .filter((vote) => vote.msg.payload.choice === i + 1)\n                        .reduce((a, b) => a + b.balance, 0)\n                ),\n                totalScores: selectedProposals.msg?.payload?.choices?.map((choice, i) =>\n                    space.strategies.map((strategy, sI) =>\n                        Object.values(result.votes)\n                            .filter((vote) => vote.msg.payload.choice === i + 1)\n                            .reduce((a, b) => a + b.scores[sI], 0)\n                    )\n                ),\n                totalVotesBalances: Object.values(result.votes).reduce(\n                    (a, b) => a + b.balance,\n                    0\n                )\n            };\n            setResult(result);\n        }\n    }\n\n    useEffect(() => {\n        transformVotes(votes, proposals);\n    }, [proposals, votes])\n\n    useEffect(() => {\n        if(proposals.hasOwnProperty(id)) {\n            if(proposals[id].hasOwnProperty(address)) {\n                setSelectedProposal(proposals[id][address]);\n                const ts = (Date.now() / 1e3).toFixed();\n                const { start, end } = proposals[id][address].msg.payload;\n                let state = ts > end ? {title: 'Closed', className: 'label-light-danger'} : ts > start ? {title: 'Active', className: 'label-light-success'} : {title: 'Pending', className: 'label-light-info'};\n                setStatus(state);\n            } else {\n                props.history.push(`/governance/${id}`)\n            }\n        } else {\n            setSelectedProposal(false)\n        }\n    }, [proposals, id, address, props.history]);\n\n\n    const handleSubmit = useCallback(async () => {\n        const options = {\n            token: spaces[id].token,\n            type: 'vote',\n            space: id,\n            payload: {\n                proposal: address,\n                choice: selectedVote,\n                metadata: {}\n            }\n        }\n        const msg = {\n            address: account,\n            msg: JSON.stringify({\n                version: '0.1.3',\n                timestamp: (Date.now() / 1e3).toFixed(),\n                ...options\n            })\n        };\n        try {\n            toast('Sending ...', {\n                icon: ''\n            })\n            const signer = library.getSigner(account);\n            msg.sig = await signer.signMessage(msg.msg);\n            const res = await api.sendMessage(msg);\n            toast.success('Your Vote is in!')\n            if(res.hasOwnProperty('ipfsHash')) {\n                getVotes();\n            }\n            setShowModal(false);\n        } catch(error) {\n            toast.error('Something went wrong!');\n        }\n\n    }, [selectedProposal, selectedVote, account, address, api, id, library, spaces])\n\n\n    return (\n        <Page title={'Governance'} morePadding>\n            <Row>\n                <Col xs={12} style={{ marginTop: -30 }}>\n                {governanceLoading && !selectedProposal ? (\n                    <Card>\n                        <div className=\"d-flex align-items-center justify-content-center py-5 w-100\">\n                            <Loading color={'primary'} width={40} height={40} active id={'vote-loading'}/>\n                        </div>\n                    </Card>\n                ) : selectedProposal && (\n                    <Row className={'custom-row'}>\n                        <Col className={'order-2 order-md-1'} xs={12} md={8}>\n                            <Row>\n                                <Col xs={12} className={'gutter-b'}>\n                                    <Card header={(\n                                        <CardHeader className=\"d-flex flex-column justify-content-around\">\n                                            <BoxSubTitle>Proposal</BoxSubTitle>\n                                            <BoxHeader>\n                                                <BoxTitle>{ selectedProposal.msg.payload.name}</BoxTitle>\n                                                {status && (\n                                                    <span className={`label ${status.className} label-lg font-weight-medium d-flex label-inline py-3`}>\n                                                        {status.title}\n                                                    </span>\n                                                )}\n                                            </BoxHeader>\n                                        </CardHeader>\n\n                                    )}>\n                                        <VoteContent className={'font-size-lg opacity-80'} style={{ whiteSpace: 'pre-wrap'}}\n                                           dangerouslySetInnerHTML={{ __html: md.render(selectedProposal.msg.payload.body) }} />\n                                    </Card>\n                                </Col>\n                                {status.title === 'Active' && (\n                                    <Col xs={12} className={'gutter-b'}>\n\n                                        <Card header={(\n                                            <CardHeader className=\"d-flex flex-column justify-content-around\">\n                                                <BoxSubTitle>Vote</BoxSubTitle>\n                                                <BoxHeader>\n                                                    <BoxTitle>Cast Your vote</BoxTitle>\n                                                </BoxHeader>\n                                            </CardHeader>\n\n                                        )}>\n                                            <div className=\"d-flex flex-column\">\n                                                {selectedProposal.msg.payload.choices.map((option, index) => {\n                                                    return (\n                                                        <button\n                                                            key={index}\n                                                            className={`btn ${index === selectedVote - 1 ? `btn-secondary-light` : `btn-light-secondary-light`} mb-2 btn-block py-3`}\n                                                            onClick={setSelectedVote.bind(this, index + 1)}\n                                                        >{option}</button>\n                                                    )\n                                                })}\n                                                <GradientButton\n                                                    className=\"py-3 mt-3 align-self-center\"\n                                                    disabled={!selectedVote}\n                                                    style={{ width: 250 }}\n                                                    onClick={() => setShowModal(true)}>Vote</GradientButton>\n                                            </div>\n                                        </Card>\n                                    </Col>\n                                )}\n                                <Col xs={12} className={'gutter-b'}>\n\n                                    <VoteCard header={(\n                                        <CardHeader className=\"d-flex flex-column justify-content-around\">\n                                            <BoxSubTitle>Proposal</BoxSubTitle>\n                                            <BoxHeader>\n                                                <BoxTitle>Votes</BoxTitle>\n                                                {votes && (\n                                                    <span className={`label label-light-primary label-lg font-weight-medium d-flex label-inline py-3`}>\n                                                        {Object.keys(votes).length}\n                                                    </span>\n                                                )}\n                                            </BoxHeader>\n                                        </CardHeader>\n\n                                    )}>\n                                        <div className=\"d-flex flex-column\">\n                                            <Table>\n                                                <Thead style={{ maxHeight: 1, opacity: 0, visibility: 'hidden'}}>\n                                                    <tr>\n                                                        <td>user</td>\n                                                        <td>vote</td>\n                                                        <td>power</td>\n                                                    </tr>\n                                                </Thead>\n                                                <tbody>\n                                                    {votes ? (showMore || (result.hasOwnProperty('votes') && Object.keys(result.votes || {}).length < 10)) ? Object.values(result.votes).map((vote, index) => {\n                                                        return (\n                                                            <VoteItem\n                                                                key={index}\n                                                                address={vote?.address}\n                                                                vote={selectedProposal?.msg?.payload?.choices[vote.msg.payload.choice - 1]}\n                                                                score={vote?.balance}\n                                                                symbol={space?.symbol}\n                                                            />\n                                                        )\n                                                    }) : result.hasOwnProperty('votes') && Object.values(result.votes).slice(0, 10).map((vote, index) => {\n                                                        return (\n                                                            <VoteItem\n                                                                key={index}\n                                                                address={vote?.address}\n                                                                vote={selectedProposal?.msg?.payload?.choices[vote.msg.payload.choice - 1]}\n                                                                score={vote?.balance}\n                                                                symbol={space?.symbol}\n                                                            />\n                                                        )\n                                                    }) : null}\n                                                </tbody>\n                                            </Table>\n                                            {votes ? (\n                                                <>\n                                                    {Object.keys(votes || {}).length > 10 ? (\n                                                        <StyledLinkButton className=\"btn btn-link \" onClick={() => setShowMore(true)}>Show More</StyledLinkButton>\n                                                    ) : null}\n                                                </>\n                                            ) : (\n                                                <div className=\"d-flex align-items-center justify-content-center py-5 w-100\">\n                                                    <Loading color={'primary'} width={40} height={40} active id={'votes-loading'}/>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </VoteCard>\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col className={'order-1 order-md-2'} xs={12} md={4}>\n                            <Card header={(\n                                <CardHeader className=\"d-flex flex-column justify-content-around\" withoutSubtitle>\n                                    <BoxHeader>\n                                        <BoxTitle>Information</BoxTitle>\n                                    </BoxHeader>\n                                </CardHeader>\n                            )} >\n                                <div className=\"d-flex flex-column justify-content-start\">\n                                    <ListItem title={'Token(s)'}>\n                                        <div className=\"d-flex align-items-center justify-content-end\">\n                                            {spaces[id].strategies.map((s, index) => {\n                                                return (\n                                                        <div className=\"d-flex align-items-center\" style={{ marginLeft: index !== 0 ? '21px' : '0px'}}>\n                                                            <VoteLogo id={id} symbolIndex={index} size={30}/>\n                                                            <TokenValue>{s.params.symbol}</TokenValue>\n                                                        </div>\n                                                )\n                                            })}\n                                        </div>\n                                    </ListItem>\n\n                                    <ListItem title={'Author'}>\n                                        <div className=\"d-flex align-items-center\">\n                                            <ModifiedJazzicon address={selectedProposal && selectedProposal.address}/>\n                                            <AuthorLink href={`https://etherscan.io/address/${selectedProposal && selectedProposal.address}`} target={\"_blank\"} rel={'noopener noreferrer'}>\n                                                {selectedProposal && selectedProposal.address.slice(0, 6)}...{selectedProposal && selectedProposal.address.slice(-4)}</AuthorLink>\n                                        </div>\n                                    </ListItem>\n\n                                    <ListItem title={'IPFS'}>\n                                        <AuthorLink href={`https://ipfs.io/ipfs/${selectedProposal && selectedProposal.authorIpfsHash}`} target={\"_blank\"} rel={'noopener noreferrer'}>\n                                            #{selectedProposal && selectedProposal.authorIpfsHash.slice(0, 7)}\n                                        </AuthorLink>\n                                    </ListItem>\n                                    <ListItem title={'Start Date'}>\n\n                                        <InfoText fontWeight={400}>\n                                            {selectedProposal && moment(selectedProposal.msg.payload.start * 1e3).format('YYYY/MM/DD hh:mm')}\n                                        </InfoText>\n                                    </ListItem>\n                                    <ListItem title={'End Date'}>\n                                        <InfoText fontWeight={400}>\n                                            {selectedProposal && moment(selectedProposal.msg.payload.end * 1e3).format('YYYY/MM/DD hh:mm')}\n                                        </InfoText>\n                                    </ListItem>\n                                    <ListItem title={'Token'}>\n                                        <InfoText>\n                                            {selectedProposal && selectedProposal.address.slice(0, 6)}\n                                        </InfoText>\n                                    </ListItem>\n                                    <ListItem title={'Snapshot'}>\n                                        <AuthorLink href={`https://etherscan.io/block/${selectedProposal && selectedProposal.msg.payload.snapshot}`}\n                                                    target={\"_blank\"} rel={'noopener noreferrer'}>\n                                            {selectedProposal && selectedProposal.msg.payload.snapshot}\n                                        </AuthorLink>\n                                    </ListItem>\n                                </div>\n                            </Card>\n                            { result.results?.hasOwnProperty('totalBalances') && (\n                                <Card header={(\n                                    <CardHeader className=\"d-flex flex-column justify-content-around\" withoutSubtitle>\n                                        <BoxHeader>\n                                            <BoxTitle>Results</BoxTitle>\n                                        </BoxHeader>\n                                    </CardHeader>\n                                )} >\n                                    <div className=\"d-flex flex-column\">\n                                        {selectedProposal.msg.payload.choices.map((choice, i) => {\n                                            return (\n                                                <ResultRow>\n                                                    <div className=\"d-flex align-items-center justify-content-between mb-2\">\n                                                        <ResultTitle>\n                                                            {shorten(choice, 'choice')}\n                                                        </ResultTitle>\n\n                                                        <ResultTitle>\n                                                            { _numeral(result.results.totalBalances?.[i]) }\n                                                            { shorten(space.symbol, 'symbol') }\n                                                        </ResultTitle>\n\n                                                        <ResultTitle>\n                                                            {!result.results.totalVotesBalances\n                                                                ? 0\n                                                                : `${(((100 / result.results.totalVotesBalances) *\n                                                                    result.results.totalBalances?.[i])).toFixed(2)}%`}\n                                                        </ResultTitle>\n                                                    </div>\n                                                    <ResultProgress className={`progress progress-xs w-100`}>\n                                                        <ResultProgressBar\n                                                             role=\"progressbar\"\n                                                             aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\"\n                                                             style={{\n                                                                 width: `${!result.results.totalVotesBalances ? '0' : Number.parseInt(((100 / result.results.totalVotesBalances) *\n                                                                     result.results.totalBalances?.[i]))}%`\n                                                             }} />\n                                                    </ResultProgress>\n                                                </ResultRow>\n                                            )\n                                        })}\n                                    </div>\n                                </Card>\n                            )}\n                        </Col>\n                    </Row>\n                )}\n                </Col>\n            </Row>\n            {selectedProposal && (\n                <Modal show={showModal} centered onHide={() => setShowModal(false)}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Confirm Vote</Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        <p>Are you sure you want to vote \"{\n                            selectedProposal.msg.payload.choices[selectedVote - 1]\n                        }\"? <br />This action <b>cannot</b> be undone.\n                        </p>\n                        <div className=\"pt-4 d-flex align-items-center justify-content-end\">\n                            <Button variant=\"outline-danger\" onClick={() => setShowModal(false)}>Close</Button>\n                            <Button variant=\"primary\" onClick={handleSubmit} className={'ml-3'}>Vote</Button>\n                        </div>\n                    </Modal.Body>\n                </Modal>\n            )}\n\n        </Page>\n    )\n}\n\nexport default Vote;\n"],"sourceRoot":""}